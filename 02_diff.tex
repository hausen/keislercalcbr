\graphicspath{ {./figuras/02_diff/} }
\chapter{Diferenciação}
\label{chp:diff}

\section{Derivadas}
\label{sec:derivatives}

Estamos prontos para explicar o que significa a inclinação de uma curva
ou a velocidade de um ponto em movimento. Considere uma função real $f$
e um número real $a$ no domínio de $f$. Quando $x$ assume o valor $a$,
a imagem $f(x)$ assume o valor $f(a)$. Agora, suponha que o valor de $x$
é alterado de $a$ para um número hiper-real $a + \Delta{x}$, o qual está
infinitamente próximo mas não é igual a $a$. Então o novo valor de $f(x)$
será $f(a+\Delta{x})$. Neste processo, o valor de $x$ será alterado por
uma quantidade infinitesimal não nula $\Delta{x}$, enquanto que a mudança
no valor de $f(x)$ será
$$
  f(a+\Delta{x})-f(a).
$$
A razão entre a mudança no valor de $f(x)$ e a mudança no valor de $x$ é
$$
  \frac{f(a+\Delta{x}-f(a)}{\Delta{x}}.
$$
Esta razão é usada na definição da inclinação de $f$, a qual daremos agora.

\begin{defin}
Dizemos que $S$ é a \newdef{inclinação} de $f$ em $a$ se
$$
  S = \st{\frac{f(a+\Delta{x})-f(a)}{\Delta{x}}}.
$$
para todo infinitésimo não nulo $\Delta{x}$.
\end{defin}

A inclinação, quando existe, está infinitamente próxima para a razão entre a
mudança em $f(x)$ e uma mudança infinitamente pequena em $x$. Dada uma curva
$y = f(x)$, a inclinação de $f$ em $a$ é também chamada de inclinação da
curva $y=f(x)$ em $x=a$. A Figura~\ref{fig:slopehyperrealline} mostra um
infinitésimo não nulo $\Delta{x}$ e uma reta hiper-real por dois pontos na
curva, em $a$ e em $a + \Delta{x}$. A quantidade
$$
  \frac{f(a+\Delta{x})-f(a)}{\Delta{x}}
$$
é a inclinação desta reta, e sua parte padronizada é a inclinação da curva.

\includefig{slopehyperrealline}

A inclinação de $f$ em $a$ nem sempre existe. Temos a seguir uma lista de
todas as possibilidades.

\begin{enumerate}[(1)]
\item A inclinação de $f$ em $a$ existe se a razão
$$
  \frac{f(a+\Delta{x})-f(a)}{\Delta{x}}
$$
é finita e possui a mesma parte padronizada para todo infinitésimo
$\Delta{x} \ne 0$. Ela tem valor
$$
  S = \st{\frac{f(a+\Delta{x})-f(a)}{\Delta{x}}}.
$$

\item A inclinação de $f$ em $a$ não existe em quaisquer um dos
      quatro casos a seguir:
      \begin{enumerate}[(a)]
        \item $f(a)$ não está definido.
        \item $f(a+\Delta{x})$ não está definido para algum infinitésimo
              $\Delta{x} \ne 0$.
        \item O termo $\displaystyle \frac{f(a+\Delta{x})-f(a)}{\Delta{x}}$
              é infinito para algum infinitésimo $\Delta{x} \ne 0$.
        \item A parte padronizada de $\displaystyle \frac{f(a+\Delta{x})-f(a)}{\Delta{x}}$
              assume valores diferentes para infinitésimos distintos
              $\Delta{x} \ne 0$.
      \end{enumerate}
\end{enumerate}

Podemos considerar a inclinação de $f$ em qualquer ponto $x$, o que nos
dá uma nova função de $x$.

\begin{defin}
Sja $f$ uma função real de uma variável. A \newdef{derivada} de $f$ é a
nova função $f'$ cujo valor em $x$ é a inclinação de $f$ em $x$.
Simbolicamente,
$$
  f'(x) = \st{\frac{f(x+\Delta{x})-f(x)}{\Delta{x}}},
$$
sempre que a inclinação existe.
\end{defin}

O valor da derivada $f'(x)$ é indefinido se a inclinação de $f$ não
existe em $x$.

Para um dado ponto $a$, a inclinação de $f$ em $a$ e a derivada de $f$ em
$a$ são a mesma coisa. Geralmente usamos a palavra ``inclinação'' para
destacar a intuição geométrica, e usamos ``derivada'' para ressaltar o
fato que $f'$ é uma função.

O processo de se encontrar a derivada de $f$ é chamado \newdef{differenciação}
ou \newdef{derivação}. Dizemos que $f$ é \newdef{diferenciável}, ou
\newdef{derivável}, em $a$ se o valor $f'(a)$ está definido; ou seja,
se existe inclinação de $f$ em $a$.

Variáveis independentes e dependentes são úteis no estudo de derivadas.
Vamos recapitular brevemente o que são. Um \newdef{sistema de fórmulas}
é um conjunto finito de equações e inequações. Dado um sistema de fórmulas,
cujo gráfico é o mesmo da equação simples $y = f(x)$, dizemos que
\emph{$y$ é uma função de $x$}, ou que \emph{$y$ depende de $x$}, e chamamos
$x$ a \newdef[variável!independente]{variável independente} e $y$ a
\newdef[variável!dependente]{variável dependente}.

Quando $y = f(x)$, podemos introduzir uma nova variável independente
$\Delta{x}$ e uma nova variável dependente $\Delta{y}$, com a equação
\begin{eqnarray}
  \Delta{y} & = & f(x+\Delta{x}) - f(x). \label{eq:chpdiff:deltay}
\end{eqnarray}

Esta equação determina $\Delta{y}$ como uma função real de duas variáveis
$x$ e $\Delta{x}$, quando $x$ e $\Delta{x}$ variam entre os números reais.
Geralmente, desejaremos usar a Equação~\ref{eq:chpdiff:deltay} para
$\Delta{y}$ quando $x$ é um numero real e $\Delta{x}$ é um infinitésimo
não nulo. O Princípio da Transferência implica que a
Equação~\ref{eq:chpdiff:deltay} também determina $\Delta{y}$ como uma
função hiper-real de duas variáveis quando permitimos que $x$ e $\Delta{x}$
variem entre os números hiper-reais.

O valor $\Delta{y}$ é chamado de \newdef{incremento} de $y$. Geometricamente,
o incremento $\Delta{y}$ é a variação em $y$ ao longo da curva, correspondendo
a uma variação de $\Delta{x}$ em $x$. O símbolo $y'$ é por vezes usado para
a derivada $y' = f'(x)$. Assim, a equação hiper-real
$$
  f'(x) = \st{\frac{f(x+\Delta{x})-f(x)}{\Delta{x}}}
$$
pode assumir a forma abreviada
$$
  y' = \st{\frac{\Delta{y}}{\Delta{x}}}.
$$

O infinitésimo $\Delta{x}$ pode ser tanto positivo quanto negativo, mas
nunca pode ser zero. As várias possibilidades são ilustradas na
Figura~\ref{fig:slopecases} com o uso de um microscópio infinitesimal.
Os sinais de $\Delta{x}$ e $\Delta{y}$ são indicados nas legendas.

\includefig{slopecases}

Nossas regras para partes padronizadas podem ser usadas em muitos casos
para encontrarmos a derivada de uma função. Há duas partes no problema de
se encontrar a derivada $f'$ de uma função $f$:
\begin{enumerate}[(1)]
\item Encontre o domínio de $f'$.
\item Encontre o valor de $f'(x)$ quando este for definido.
\end{enumerate}

\begin{example}
\label{ex:cap2ex1}
Encontre a derivada da função
$$
  f(x) = x^3.
$$
Neste exemplo, assim como nos próximos, deixaremos $x$ variar entre os números
reais e $\Delta{x}$ variar entre os infinitésimos não nulos. Vamos introduzir
a nova variável $y$ com a equação $y=x^3$. Primeiramente, determinamos
$\Delta{y}/\Delta{x}$.
\begin{eqnarray*}
  y           & = & x^3, \\
  y+\Delta{y} & = & (x+\Delta{x})^3, \\
  \Delta{y}   & = & (x+\Delta{x})^3 - x^3, \\
  \frac{\Delta{y}}{\Delta{x}} & = &
    \frac{(x+\Delta{x})^3 - x^3}{\Delta{x}}.
\end{eqnarray*}
A seguir, simplificamos a expressão para $\Delta{y}/\Delta{x}$.
\begin{eqnarray*}
  \frac{\Delta{y}}{\Delta{x}} & = &
    \frac{(x^3+3x^2\Delta{x}+3x(\Delta{x})^2+(\Delta{x})^3)-x^3}
         {\Delta{x}} \\
  & = &
    \frac{3x^2\Delta{x}+3x(\Delta{x})^2+(\Delta{x})^3}
         {\Delta{x}} \\
  & = &
    3x^2+3x\Delta{x}+(\Delta{x})^2
\end{eqnarray*}
Então, tomamos a parte padronizada,
\begin{eqnarray*}
  \st{\frac{\Delta{y}}{\Delta{x}}} & = &
    \st{3x^2+3x\Delta{x}+(\Delta{x})^2} \\
  & = &
    \std(3x^2)+\std(3x\Delta{x})+\std((\Delta{x})^2) \\
  & = & 3x^2 + 0 + 0 = 3x^2.
\end{eqnarray*}
Portanto, $f'(x) = \st{\frac{\Delta{y}}{\Delta{x}}} = 3x^2.$
\end{example}

Demonstramos que a derivada da função $f(x) = x^3$ é a função $f'(x) = 3x^2$,
cujo domínio é toda a reta real. Os gráficos de $f$ e $f'$ são mostrados na
Figura~\ref{fig:cap2ex1}.

\includefig{cap2ex1}

\begin{example}
\label{ex:cap2ex2}
Determine $f'(x)$, onde $f(x) = \sqrt{x}$.
\begin{caseanalysis}
\item $x < 0$. Como $\sqrt{x}$ não está definido, $f'(x)$ não existe.
\item $x = 0$. Quando $\Delta{x}$ é um infinitésimo negativo, o termo
      $$
        \frac{\sqrt{x+\Delta{x}}-\sqrt{x}}{\Delta{x}} =
          \frac{\sqrt{0+\Delta{x}}-\sqrt{0}}{\Delta{x}}
      $$
      não está definido pois $\sqrt{\Delta{x}}$ é indefinido. Quando
      $\Delta{x}$ é um infinitésimo positivo, o termo
      $$
        \frac{\sqrt{x+\Delta{x}}-\sqrt{x}}{\Delta{x}} =
          \frac{\sqrt{\Delta{x}}}{\Delta{x}} =
            \frac{1}{\sqrt{\Delta{x}}}
      $$
      está definido, mas é um hiper-real infinito. Por duas razões
      (apenas uma delas bastaria), $f'(x)$ não existe.
\item $x>0$. Seja $y=\sqrt{x}$. Então
      \begin{eqnarray*}
        y+\Delta{y}                 & = & \sqrt{x + \Delta{x}}, \\
        \Delta{y}                   & = & \sqrt{x + \Delta{x}} - \sqrt{x}, \\
        \frac{\Delta{y}}{\Delta{x}} & = &
          \frac{\sqrt{x + \Delta{x}} - \sqrt{x}}{\Delta{x}}.
      \end{eqnarray*}
      Calculemos agora
      \begin{eqnarray*}
        \frac{\Delta{y}}{\Delta{x}} & = &
          \frac{\sqrt{x + \Delta{x}} - \sqrt{x}}{\Delta{x}} \cdot
          \frac{(\sqrt{x + \Delta{x}} + \sqrt{x})}
               {(\sqrt{x + \Delta{x}} + \sqrt{x})} \\
        & = &
          \frac{(x+\Delta{x})-x}{\Delta{x}(\sqrt{x + \Delta{x}} + \sqrt{x})} \\
        & = &
          \frac{\Delta{x}}{\Delta{x}(\sqrt{x + \Delta{x}} + \sqrt{x})} =
          \frac{1}{\sqrt{x + \Delta{x}} + \sqrt{x}}.
      \end{eqnarray*}
      Tomando partes padronizadas,
      \begin{eqnarray*}
        \st{\frac{\Delta{y}}{\Delta{x}}} & = &
          \st{\frac{1}{\sqrt{x + \Delta{x}} + \sqrt{x}}} \\
        & = &
          \frac{1}{\std(\sqrt{x + \Delta{x}} + \sqrt{x})} \\
        & = &
          \frac{1}{\std(\sqrt{x + \Delta{x}}) + \std(\sqrt{x})} \\
        & = &
          \frac{1}{\sqrt{x} + \sqrt{x}} = \frac{1}{2\sqrt{x}}.
      \end{eqnarray*}
      Portanto, quando $x > 0$,
      $$
        f'(x) = \frac{1}{2\sqrt{x}}.
      $$
\end{caseanalysis}
Assim, a derivada de $f(x) = \sqrt{x}$ é a função
$f'(x) = \frac{1}{2\sqrt{x}}$, e seu domínio é o conjunto de todos os
$x$ tais que $x > 0$ (veja Figura~\ref{fig:cap2ex2}).
\end{example}

\includefig{cap2ex2}

\begin{example}
Encontre a derivada de $f(x) = 1/x.$
\begin{caseanalysis}
\item $x = 0$. Neste caso, $1/x$ é indefinido, logo $f'(x)$ é indefinido.
\item $x \ne 0$.
      \begin{eqnarray*}
        y & = & 1/x, \\
        y+\Delta{y} & = & \frac{1}{x + \Delta{x}}, \\
        \Delta{y} & = & \frac{1}{x + \Delta{x}} - \frac{1}{x}, \\
        \frac{\Delta{y}}{\delta{x}} & = &
          \frac{1/(x + \Delta{x}) - 1/x}{\Delta{x}}.
      \end{eqnarray*}
      Simplificando,
      \begin{eqnarray*}
        \frac{1/(x + \Delta{x}) - 1/x}{\Delta{x}} & = &
          \frac{x-(x+\Delta{x})}{x(x+\Delta{x})\Delta{x}} =
            \frac{-\Delta{x}}{x(x+\Delta{x})\Delta{x}} \\
        & = & \frac{-1}{x(x+\Delta{x})}.
      \end{eqnarray*}
      Tomando a parte padrão,
      \begin{eqnarray*}
        \st{\frac{\Delta{y}}{\delta{x}}} & = &
          \st{-\frac{1}{x(x+\Delta{x})}} =
            -\frac{1}{\std(x(x+\Delta{x}))} \\
        & = &
          -\frac{1}{\std(x)\std(x+\Delta{x})} =
            -\frac{1}{x \cdot x} =
            -\frac{1}{x^2} .
      \end{eqnarray*}
      Logo, $f'(x) = -1/x^2.$
\end{caseanalysis}
A derivada da função $f(x) = 1/x$ é a função $f'(x) = -1/x^2$, cujo
domínio é o conjunto de todos os $x$ tais que $x \ne 0$. Os gráficos
de ambas as funções estão na Figura~\ref{fig:cap2ex3}.
\end{example}

\includefig{cap2ex3}

\begin{example}
Encontre a derivada de $f(x) = |x|$.

\begin{caseanalysis}
\item $x > 0$. Neste caso, $|x| = x$, e temos
      \begin{eqnarray*}
        y & = & x, \\
        y + \Delta{y} & = & x + \Delta{x}, \\
        \Delta{y} & = & \Delta{x}, \\
        \frac{\Delta{y}}{\Delta{x}} & = & 1, \hspace{4ex} f'(x) = 1.
      \end{eqnarray*}
\item $x < 0$. Agora, $|x| = -x$, e
      \begin{eqnarray*}
        y & = & -x, \\
        y + \Delta{y} & = & -(x + \Delta{x}), \\
        y & = & -(x + \Delta{x}) - (-x) = -\Delta{x}, \\
        \frac{\Delta{y}}{\Delta{x}} = -\frac{\Delta{x}}{\Delta{x}}
          & = & -1, \hspace{4ex} f'(x) = -1.
      \end{eqnarray*}
\item $x = 0$. Então,
      \begin{eqnarray*}
        y & = & 0, \\
        y + \Delta{y} & = & |0 + \Delta{x}| = |\Delta{x}|, \\
        \Delta{y} & = & |\Delta{x}|, \\
        \frac{\Delta{y}}{\Delta{x}} = \frac{|\Delta{x}|}{\Delta{x}}
          & = & \left\{
                  \begin{array}{lll}
                      & 1 & \text{ se } \Delta{x} > 0, \\
                    - & 1 & \text{ se } \Delta{x} < 0. \\
                  \end{array}
                \right.
      \end{eqnarray*}
      A parte padronizada de $\Delta{y}/\Delta{x}$ é $1$ para alguns
      valores de $\Delta{x}$ e $-1$ para outros. Portanto, $f'(x)$ não
      existe quando $x = 0$.

      Em suma,
      $$
        f'(x) \left\{
          \begin{array}{rll}
               & 1 & \text{ se } x > 0, \\
             - & 1 & \text{ se } x < 0, \\
             \multicolumn{2}{l}{\text{indefinido}} & \text{ se } x = 0.
          \end{array}
        \right.
      $$
      A Figura~\ref{fig:cap2ex4} mostra os gráficos de $f$ e $f'$.
\end{caseanalysis}
\end{example}

\includefig{cap2ex4}

A derivada possui uma variedade de aplicações na física e nas ciências
da vida e sociais. Ela pode aparecer em um dos contextos a seguir.

\emph{Velocidade}: se um objeto se move de acordo com a equação $s = f(t)$,
onde $t$ é o tempo e $s$ é a distância, a derivada $v = f'(t)$ é a
\emph{velocidade} do objeto no instante $t$.

\emph{Taxas de crescimento}: uma população $y$ (de pessoas, bactérias,
moléculas, etc.) cresce de acordo com a equação $y = f(t)$, onde $t$ é
o tempo. Então, a derivada $y' = f'(t)$ é a \emph{taxa de crescimento}
da população $y$ no instante $t$.

\emph{Custo marginal} (economia): suponha que o custo total (ou lucro,
etc.) de produção de $x$ itens é $y = f(x)$ reais. Então, o custo de
se produzir um item adicional é aproximadamente a derivada $y' = f'(x)$,
pois $y'$ é a alteração em $y$ por unidade de alteração em $x$. Esta
derivada é chamada \emph{custo marginal}.

\begin{example}
Suponha que uma cultura de bactérias se reproduz de tal maneira que
no instante $t$ há $t^3$ indivíduos na colônia. Encontre a taxa de
crescimento no instante $t = 1000$ segundos.

Como $y = t^3$, então $y' = 3t^2$ de acordo com o Exemplo~\ref{ex:cap2ex1}.
No instante $t = 1000$, temos $y' = \fnum{3000000}$ indivíduos por segundo.
\end{example}

\begin{example}
Suponha que o custo de produção de $x$ agulas é de $\sqrt{x}$ reais. Qual é
o custo marginal após $\fnum{10000}$ agulhas serem produzidas.

Como $y = \sqrt{x}$, então $\displaystyle y' = \frac{1}{2\sqrt{x}}$ de acordo com o Exemplo~\ref{ex:cap2ex2}. Quando $x = \fnum{10000}$, temos $\displaystyle y' = \frac{1}{2\sqrt{\fnum{10000}}} = \frac{1}{200} = 0,005$ reais por agulha.

Ou seja, o custo marginal é de metade de um centavo por agulha.
\end{example}

\begin{sectionproblems}
Encontre a derivada da função dada nos Problemas 1--21.

\twoexer{$f(x) = x^2$}{$f(t) = t^2 + 3$}

\twoexer{$f(x) = 1-2x^2$}{$f(x) = 3x^2 + 2$}

\twoexer{$f(t) = 4t$}{$f(x) = 2-5x$}

\twoexer{$f(t) = 4t^3$}{$f(t) = -t^3$}

\twoexer{$f(u) = 5\sqrt{u}$}{$f(u) = \sqrt{u+2}$}

\twoexer{$g(x) = x\sqrt{x}$}{$g(x) = 1/\sqrt{x}$}

\twoexer{$g(t) = t^{-2}$}{$g(t) = t^{-3}$}

\twoexer{$f(y) = 3y^{-1} + 4y$}{$f(y) = 2y^{3} + 4y^{2}$}

\twoexer{$f(x) = a x + b$}{$f(x) = a x^{2}$}

\twoexer{$f(x) = \sqrt{a x + b}$}{$f(x) = 1/(x + 2)$}

\exer{$f(x) = 1/(3-2x)$}

\exer{Encontre a derivada de $f(x) = 2x^2$ no ponto $x = 3$.}

\exer{Encontre a inclinação da curva $f(x) = \sqrt{x-1}$ no ponto $x = 5$.}

\exer{Um objeto se move de acordo com a equação $y = 1/(t+2)$, onde $t \ge 0$.
      Encontre a velocidade como função de $t$.}

\exer{Uma partícula se move de acordo com a equação $y = t^4$. Encontre a
      velocidade em função de $t$.}

\exer{Suponha que a população de uma cidade cresce de acordo com a equação
      $y = 100t + t^2$, onde $t$ é o tempo em anos. Encontre a taxa de
      crescimento populacional em $t = 100$ anos.}

\exer{Suponha que uma empresa lucra $1000x - x^2$ reais sobre a venda de
      $x$ itens. Encontre o lucro marginal, em reais por item, quando
      $x = 200$, $x = 500$ e $x = 1000$.}

\exer{Encontre a derivada da função $f(x) = |x+1|$.}

\exer{Encontre a derivada da função $f(x) = |x^3|$.}

\exer{Encontre a inclinação da parábola $y = ax^2 + bx + c$, onde
      $a$, $b$, $c$ são constantes.}

\end{sectionproblems}

\section{Diferenciais e Retas Tangentes}
\label{sec:tglines}

Dados uma curva $y = f(x)$ e um ponto $(a,b)$ sobre a curva, a inclinação
$f'(a)$ está definida. Assim, a \newdef{reta tangente} à curva no ponto
$(a,b)$, ilustrada na Figura\ref{fig:tangentline}, é definida como a reta
que passa pelo ponto $(a,b)$ e que possui a mesma inclinação que a curva em
$x = a$. Deste modo, a reta tangente é definida pela equação
$$
  r(x) - b = f'(a)(x-a),
$$
ou pela equação
$$
  r(x) = f'(a)(x-a) + b.
$$

\includefig[Retas tangentes.]{tangentline}

\begin{example}
Para a curva $y = x^3$, encontre as retas tangentes nos pontos $(0,0)$,
$(1,1)$ e $(-\frac{1}{2}, -\frac{1}{8})$. (Figura~\ref{fig:cap2p2ex1}).

\includefig{cap2p2ex1}

A inclinação é dada por $f'(x) = 3x^2$. Em $x = 0$, $f'(0) = 3 \cdot 0^2 = 0$.
A reta tangente tem equação
$$
  y = 0 (x - 0) + 0 \text{, \; ou seja, \; } y = 0.
$$
Em $x = 1$, $f'(1) = 3$, logo a reta tangente é
$$
  y = 3(x-1)+1 \text{, \; ou seja, \; } y =  3x-2.
$$
Em $x = -\frac{1}{2}$, $f'(-\frac{1}{2}) = 3 \cdot (-\frac{1}{2})^2 =
\frac{3}{4}$, logo a reta tangente é
$$
  y = \frac{3}{4} \left(x - \left(-\frac{1}{2}\right)\right) + \left(-\frac{1}{8}\right) \text{, \; ou seja, \; } y =  \frac{3}{4}x + \frac{1}{4}.
$$
\end{example}

Dada uma curva $y = f(x)$, suponha que $x$ comece com o valor $a$ e então
varie uma quantidade infinitesimal $\Delta x$. O que acontece com $y$?
Ao longo da curva, a variação em $y$ será
$$
  f(a + \Delta x) - f(a) = \Delta y.
$$
Mas ao longo da reta tangente, a variação em $y$ será
\begin{eqnarray*}
  r(a + \Delta x) - r(a) & = &
    [f'(a)(a + \Delta x - a) + b] - [f'(a)(a-a) + b]\\
                         & = & f'(a) \Delta x.
\end{eqnarray*}
Quando $x$ varia de $a$ para $a + \Delta x$, vemos que:
\begin{eqnarray*}
  \text{variação em $y$ ao longo da curva} & = &
    f(a+\Delta x) - f(a), \\
  \text{variação em $y$ ao longo da reta tangente} & = &
    f'(a) \Delta x.
\end{eqnarray*}
Na última seção, introduzimos a variável dependente $\Delta y$, o incremento
de $y$, a partir da equação
$$
  \Delta y = f(x + \Delta x) - f(x).
$$
O valor $\Delta y$ é igual à variação em $y$ ao longo da curva quando
$x$ varia para $x + \Delta x$.

O teorema a seguir nos dá uma fórmula simples, porém útil, para o cálculo
do incremento $\Delta y$

\begin{theorem}[Teorema do Incremento]
Seja $y = f(x)$. Suponha que $f'(x)$ existe para um certo ponto $x$ e que
$\Delta x$ é um infinitésimo. Então $\Delta y$ é um infinitésimo e
$$
  \Delta y = f'(x) \Delta x + \epsilon \Delta x
$$
para algum infinitésimo $\epsilon$, o qual depende de $x$ e $\Delta x$.
\end{theorem}

\begin{proof}
\begin{caseanalysis}
\item $\Delta x = 0$. Neste caso, $\Delta y = f'(x) \Delta x = 0$, e fazemos
      $\epsilon = 0$.
\item $\Delta x \ne 0$. Então
$$
  \frac{\Delta y}{\Delta x} \approx f'(x);
$$
logo, para algum infinitésimo $\epsilon$,
$$
  \frac{\Delta y}{\Delta x} = f'(x) + \epsilon.
$$
Multiplicando ambos os lados por $\Delta x$,
$$
  \Delta y = f'(x) \Delta x + \epsilon \Delta x.
$$
\end{caseanalysis}
\end{proof}

\begin{example}
Seja $y = x^3$, logo $y' = 3x^2$. De acordo com o Teorema do Incremento,
$$
  \Delta y = 3x^2 \Delta x + \epsilon \Delta x
$$
para algum infinitésimo $\epsilon$. Encontraremos $\epsilon$ em termo de
$x$ e $\Delta x$, para $\Delta x \ne 0$. Temos
\begin{eqnarray*}
  \Delta y & = & 3x^2 \Delta x + \epsilon \Delta x, \\
  \frac{\Delta y}{\Delta x} & = & 3x^2 + \epsilon, \\
  \epsilon & = & \frac{\Delta y}{\Delta x} - 3x^2.
\end{eqnarray*}
Ainda precisamos eliminar $\Delta y$. Do Exemplo~\ref{ex:cap2ex1} na
Seção~\ref{sec:derivatives},
\begin{eqnarray*}
  \Delta y = (x + \Delta x)^3 - x^3,
  \frac{\Delta y}{\Delta x} = 3x^2 + 3x\Delta x + (\Delta x)^2.
\end{eqnarray*}
Substituindo, obtemos $\epsilon = (3x^2 + 3x\Delta x + (\Delta x)^2) - 3x^2$.
Como $3x^2$ se cancela, temos
$$
  \epsilon = 3x \Delta x + (\Delta x)^2.
$$
\end{example}

Iremos agora introduzir uma nova variável dependente $\dif y$, chamada
diferencial de $y$, com a equação
$$
  \dif y = f'(x) \Delta x.
$$
O valor $\dif y$ é igual à variação em $y$ ao longo da reta tangente quando
$x$ varia para $x + \Delta x$. Na Figura~\ref{fig:dymicroscope}, vemos
$\dif y$ e $\Delta y$ sob o microscópio.

\includefig{dymicroscope}

Para manter a uniformidade da notação, introduziremos também o símbolo
$\dif x$ como outro nome para $\Delta x$. Para uma variável \emph{independente}
$x$, os valores de $\Delta x$ e $\dif x$ são iguais, mas para uma variável
\emph{dependente} $y$, is valores de $\Delta y$ e $\dif y$ diferem.

\begin{defin}
Suponha que $y$ depende de $x$, na forma $y = f(x)$.
\begin{enumerate}[(i)]
\item O \newdef{diferencial de $x$} é a variável independente $\dif x = \Delta x$
\item O \newdef{diferencial de $y$} é a variável dependente $\dif y$ dada
      por
      $$
        \dif y = f'(x) \dif x.
      $$
\end{enumerate}
\end{defin}

Quando $\dif x \ne 0$, a equação acima pode ser reescrita como
$$
  \frac{\dif y}{\dif x} = f'(x).
$$
Compare esta equação com
$$
  \frac{\Delta y}{\Delta x} \approx f'(x).
$$
O quociente $\dif y/\dif x$ é um símbolo alternativo muito conveniente para
a derivada $f'(x)$. Na verdade, escreveremos a derivada na forma
$\dif y/\dif x$ na maior parte do tempo.

O diferencial $\dif y$ depende de duas variáveis independentes $x$ e $\dif x$.
Em notação de função,
$$
  \dif y = \dif f(x,\dif x)
$$
onde $\dif f$ é a função real de duas variáveis definida por
$$
  \dif f(x,\dif x) = f'(x) \dif x.
$$
Quando $\dif x$ é substituído por $\Delta x$ e $\dif y$ por $f'(x) \dif x$,
o Teorema do Incremento assume a forma abreviada 
$$
  \Delta y = \dif y + \epsilon \dif x.
$$
O Teorema do Incremento pode ser explicado graficamente usando-se um
microscópio infinitesimal. Sob o microscópio, um segmento de comprimento
$\Delta x$ é ampliado para um segmento de comprimento unitário, mas um
segmento de comprimento $\epsilon \Delta x$ é apenas ampliado para um
comprimento infinitesimal $\epsilon$. Assim, o Teorema do Incremento mostra
que, quando $f'(x)$ existe:
\begin{enumerate}[(1)]
\item O diferencial $\dif y$ e o incremento
      $\Delta y = \dif y + \epsilon \dif x$ estão tão próximos que eles
      não há distinção entre eles sob um microscópio infinitesimal.
\item A curva $y = f(x)$ e a reta tangente em $(x,y)$ estão tão próximas
      que não há distinção entre elas sob um microscópio infinitesimal;
      ambas se assemelham a uma reta com inclinação $f'(x)$.
\end{enumerate}

A Figura~\ref{fig:dymicroscope} não é totalmente precisa. A curvatura teve
de ser exagerada de maneira que pudéssemos distinguir a curva da reta
tangente sob o microscópio. Para dar uma visão precisa, é necessário um
desenho mais complicado como o da Figura~\ref{fig:incrementtheo}, a qual
possui um segundo microscópio infinitesimal centrado no ponto
$(a + \Delta x, b + \Delta y)$ dentro do campo de visão do microscópio
original. Este segundo microscópio aumenta $\epsilon \dif x$ para um
comprimento unitário e amplia $\Delta x$ para um comprimento infinito.

\includefig{incrementtheo}

\begin{example}
Sempre que uma derivada $f'(x)$ é conhecida, podemos encontrar o diferencial
$\dif y$ imediatamente apenas multiplicando a derivada por $\dif x$, usando
a fórmula $\dif y = f'(x) \dif x$. Os exemplos na última seção nos dão os
seguintes diferenciais:
\def\itab#1{\hspace{1em}\rlap{#1}}
\def\tab#1{\hspace{.25\textwidth}\rlap{#1}}
\begin{enumerate}[(a)]
\item \itab{$y = x^3$,} \tab{$\dy = 3x^2 \dx$.}
\item \itab{$y = \sqrt{x}$,} \tab{$\displaystyle \dy = \frac{\dx}{2\sqrt{x}}$,
                                  onde $x > 0$.}
\item \itab{$y = 1/x$,} \tab{$\dy = -\dx/x^2$, onde $x \ne 0$.}
\item \itab{$y = |x|$,} \tab{$\displaystyle
                              \dif y = \left\{ \begin{array}{rll}
                                          & \dif x & \text{ quando } x > 0, \\
                                        - & \dif x & \text{ quando } x < 0, \\
                                        \multicolumn{2}{l}{\text{indefinido}} &
                                           \text{ quando } x = 0.
                                       \end{array} \right.$.}
\item \itab{$y = bt - 16t^2$,} \tab{$\dif y = (b - 32t) \dif t$.}
\end{enumerate}
\end{example}

A notação de diferencial também pode ser usada quando um sistema de fórmulas
nos é dado, no qual duas ou mais variáveis dependem de uma variável
independente. Por exemplo, se $y$ e $z$ são funções de $x$,
\begin{eqnarray*}
  y = f(x), &  & z = g(x),
\end{eqnarray*}
então $\Dy$, $\Dz$, $\dy$, $\dz$ são determinados por
\begin{eqnarray*}
  \Dy = f(x + \Dx) - f(x), &  & \Dz = g(x + \Dx) - g(x), \\
  \dy = f'(x) \dx,         &  & \dz = g'(x) \dx.
\end{eqnarray*}

\begin{example}
Sejam dados $y = \frac{1}{2}x$, $z = x^3$, com $x$ sendo a variável
independente, então
\begin{eqnarray*}
  \Dy & = & \frac{1}{2}(x + \Dx) - \frac{1}{2}x = \frac{1}{2}\Dx, \\
  \dy & = & \frac{1}{2}\dx, \\
  \Dz & = & 3x^2\Dx + 3x(\Dx)^2 + (\Dx)^3, \\
  \dz & = & 3x^2 \dx. 
\end{eqnarray*}
O significado dos símbolos para incremento e diferencial neste exemplo
seriam diferentes se tomássemos $y$ como a variável independente. Assim,
$x$ e $z$ seriam funções de $y$, onde
\begin{eqnarray*}
  x = 2y, &  & z = 8y^3.
\end{eqnarray*}
Agora, $\Dy = \dy$ é apenas uma variável independente, enquanto que
\begin{eqnarray*}
  \Dx & = & 2(y + \Dy) - 2y = 2\Dy, \\
  \Dz & = & 8(y+\Dy)^3 - 8y^3 \\
      & = & 8[3y^2 \Dy + 3y(\Dy)^2 + (\Dy)^3] \\
      & = & 24y^2 \Dy + 24y(\Dy)^2 + 8(\Dy)^3.
\end{eqnarray*}
Além disso, $\dx = 2\dy$ \; e \; $\dz = 24y^2\dy$.
\end{example}

Podemos também aplicar a notação de diferencial a termos. Se $\tau(x)$ é
um termo com a variável $x$, então $\tau(x)$ determina uma função $f(x)$,
$$
  \tau(x) = f(x),
$$
e o diferencial $\dif(\tau(x))$ tem o significado
$$
  \dif(\tau(x)) = f'(x) \dx.
$$

\begin{example}
\par\indent
\begin{enumeratewithspaces}[(a)]
\item $\dif(x^3) = 3x^2 \dx.$
\item $\displaystyle \dif(\sqrt{x}) = \frac{\dx}{2\sqrt{x}}$, \hspace{1.5em} $x > 0$
\item $\dif(1/x) = -\frac{\dx}{x^2}$, \hspace{1.5em} $x \ne 0$
\item $\dif(|x|) = \left\{ \begin{array}{rll}
                       & \dx & \text{ quando } x > 0, \\
                     - & \dx & \text{ quando } x < 0, \\
                     \multicolumn{2}{l}{\text{indefinido}} &
                       \text{ quando } x = 0.
                   \end{array} \right.$
\item Seja $u = bt$ e $w = -16t^2$. Então
\begin{eqnarray*}
  u + w & = & bt - 16t^2. \\
  \dif(u + w) & = & (b - 32t)\dif t.
\end{eqnarray*}
\end{enumeratewithspaces}
\end{example}

\begin{sectionproblems}
Nos Problemas~\ref{prob:cap2p2p1}--\ref{prob:cap2p2p8}

\twoexer{$y=x^2$\label{prob:cap2p2p1}}%
        {$y = -5x^2$}

\twoexer{$y = 2\sqrt{x}$}{$y = x^4$}

\twoexer{$y = 1/x$}{$y = x^{-2}$}

\twoexer{$y=x-1/x$}%
        {$y = 4x+x^3$\label{prob:cap2p2p8}}

\exer{Se $y = 2x^2$ e $z = x^3$, encontre $\Dy$, $\Dz$, $\dy$ e $\dz$.}

\exer{Se $y = 1/(x+1)$ e $z = 1/(x+2)$, encontre $\Dy$, $\Dz$, $\dy$ e $\dz$.}

\twoexer{Encontre $\dif(2x+1)$}%
        {Encontre $\dif(x^2-3x)$}

\twoexer{Encontre $\dif(\sqrt{x+1})$}%
        {Encontre $\dif(\sqrt{2x+1})$}

\twoexer{Encontre $\dif(ax+b)$}%
        {Encontre $\dif(ax^2)$}

\twoexer{Encontre $\dif(3+2/x)$}%
        {Encontre $\dif(x \sqrt{x})$}

\twoexer{Encontre $\dif(1/\sqrt{x})$}%
        {Encontre $\dif(x^3 - x^2)$}

\exer{Sejam $y = \sqrt{x}$, $z = 3x$. Encontre $\dif(y + z)$ e $\dif(y/z)$.}

\exer{Sejam $y = x^{-1}$, $z = x^3$. Encontre $\dif(y+z)$ e $\dif(yz)$.}

Nos Problemas~\ref{prob:cap2p2p23}--\ref{prob:cap2p2p30} abaixo, dados
uma curva e um ponto, encontre a equação da reta tangente.

\twoexer{$y = x^2; \; (2,4)$ \label{prob:cap2p2p23}}%
        {$y = 2x^2; \; (-1,2)$}

\twoexer{$y = -x^2; \; (0,0)$}%
        {$y = \sqrt{x}; \; (1,1)$}

\twoexer{$y = 3x-4; \; (1,-1)$}%
        {$y = \sqrt{t-1}; \; (5,2)$}

\twoexer{$y = x^4; \; (-2,16)$}%
        {$y = x^3 - x; \; (0,0)$ \label{prob:cap2p2p30}}

\exer{Encontre a equação da reta tangente à parábola $y = x^2$
      no ponto $(x_0, x_0^2)$.}

\exer{Encontre todos os pontos $P(x_0,x_0^2)$ na parábola $y = x^2$
      tais que a reta tangente em $P$ passe pelo ponto $(0,-4)$.}

\hardex{Demonstre que a reta tangente à parábola $y = x^2$ no
        ponto $P(x_0,x_0^2)$ não intersecta a parábola em qualquer
        outro ponto além de $P$.}

\end{sectionproblems}

\section{Derivadas de Funções Racionais}
\label{sec:derivratfunc}

\section{Funções Transcendentais}
\label{sec:transcfunc}

\section{Regra da Cadeia}
\label{sec:chainrule}

\section{Derivadas de Ordem Superior}
\label{sec:higherderivs}

\section{Funções Implícitas}
\label{sec:implicitfunc}

\begin{chapterproblems}
\end{chapterproblems}


