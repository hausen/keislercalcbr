\graphicspath{ {./figuras/02_diff/} }
\chapter{Diferenciação}
\label{chp:diff}

\section{Derivadas}
\label{sec:derivatives}

Estamos prontos para explicar o que significa a inclinação de uma curva
ou a velocidade de um ponto em movimento. Considere uma função real $f$
e um número real $a$ no domínio de $f$. Quando $x$ assume o valor $a$,
a imagem $f(x)$ assume o valor $f(a)$. Agora, suponha que o valor de $x$
é alterado de $a$ para um número hiper-real $a + \Delta{x}$, o qual está
infinitamente próximo mas não é igual a $a$. Então o novo valor de $f(x)$
será $f(a+\Delta{x})$. Neste processo, o valor de $x$ será alterado por
uma quantidade infinitesimal não nula $\Delta{x}$, enquanto que a mudança
no valor de $f(x)$ será
$$
  f(a+\Delta{x})-f(a).
$$
A razão entre a mudança no valor de $f(x)$ e a mudança no valor de $x$ é
$$
  \frac{f(a+\Delta{x}-f(a)}{\Delta{x}}.
$$
Esta razão é usada na definição da inclinação de $f$, a qual daremos agora.

\begin{defin}
Dizemos que $S$ é a \newdef{inclinação} de $f$ em $a$ se
$$
  S = \st{\frac{f(a+\Delta{x})-f(a)}{\Delta{x}}}.
$$
para todo infinitésimo não nulo $\Delta{x}$.
\end{defin}

A inclinação, quando existe, está infinitamente próxima para a razão entre a
mudança em $f(x)$ e uma mudança infinitamente pequena em $x$. Dada uma curva
$y = f(x)$, a inclinação de $f$ em $a$ é também chamada de inclinação da
curva $y=f(x)$ em $x=a$. A Figura~\ref{fig:slopehyperrealline} mostra um
infinitésimo não nulo $\Delta{x}$ e uma reta hiper-real por dois pontos na
curva, em $a$ e em $a + \Delta{x}$. A quantidade
$$
  \frac{f(a+\Delta{x})-f(a)}{\Delta{x}}
$$
é a inclinação desta reta, e sua parte padronizada é a inclinação da curva.

\includefig{slopehyperrealline}

A inclinação de $f$ em $a$ nem sempre existe. Temos a seguir uma lista de
todas as possibilidades.

\begin{enumerate}[(1)]
\item A inclinação de $f$ em $a$ existe se a razão
$$
  \frac{f(a+\Delta{x})-f(a)}{\Delta{x}}
$$
é finita e possui a mesma parte padronizada para todo infinitésimo
$\Delta{x} \ne 0$. Ela tem valor
$$
  S = \st{\frac{f(a+\Delta{x})-f(a)}{\Delta{x}}}.
$$

\item A inclinação de $f$ em $a$ não existe em quaisquer um dos
      quatro casos a seguir:
      \begin{enumerate}[(a)]
        \item $f(a)$ não está definido.
        \item $f(a+\Delta{x})$ não está definido para algum infinitésimo
              $\Delta{x} \ne 0$.
        \item O termo $\displaystyle \frac{f(a+\Delta{x})-f(a)}{\Delta{x}}$
              é infinito para algum infinitésimo $\Delta{x} \ne 0$.
        \item A parte padronizada de $\displaystyle \frac{f(a+\Delta{x})-f(a)}{\Delta{x}}$
              assume valores diferentes para infinitésimos distintos
              $\Delta{x} \ne 0$.
      \end{enumerate}
\end{enumerate}

Podemos considerar a inclinação de $f$ em qualquer ponto $x$, o que nos
dá uma nova função de $x$.

\begin{defin}
Sja $f$ uma função real de uma variável. A \newdef{derivada} de $f$ é a
nova função $f'$ cujo valor em $x$ é a inclinação de $f$ em $x$.
Simbolicamente,
$$
  f'(x) = \st{\frac{f(x+\Delta{x})-f(x)}{\Delta{x}}},
$$
sempre que a inclinação existe.
\end{defin}

O valor da derivada $f'(x)$ é indefinido se a inclinação de $f$ não
existe em $x$.

Para um dado ponto $a$, a inclinação de $f$ em $a$ e a derivada de $f$ em
$a$ são a mesma coisa. Geralmente usamos a palavra ``inclinação'' para
destacar a intuição geométrica, e usamos ``derivada'' para ressaltar o
fato que $f'$ é uma função.

O processo de se encontrar a derivada de $f$ é chamado \newdef{differenciação}
ou \newdef{derivação}. Dizemos que $f$ é \newdef{diferenciável}, ou
\newdef{derivável}, em $a$ se o valor $f'(a)$ está definido; ou seja,
se existe inclinação de $f$ em $a$.

Variáveis independentes e dependentes são úteis no estudo de derivadas.
Vamos recapitular brevemente o que são. Um \newdef{sistema de fórmulas}
é um conjunto finito de equações e inequações. Dado um sistema de fórmulas,
cujo gráfico é o mesmo da equação simples $y = f(x)$, dizemos que
\emph{$y$ é uma função de $x$}, ou que \emph{$y$ depende de $x$}, e chamamos
$x$ a \newdef[variável!independente]{variável independente} e $y$ a
\newdef[variável!dependente]{variável dependente}.

Quando $y = f(x)$, podemos introduzir uma nova variável independente
$\Delta{x}$ e uma nova variável dependente $\Delta{y}$, com a equação
\begin{eqnarray}
  \Delta{y} & = & f(x+\Delta{x}) - f(x). \label{eq:chpdiff:deltay}
\end{eqnarray}

Esta equação determina $\Delta{y}$ como uma função real de duas variáveis
$x$ e $\Delta{x}$, quando $x$ e $\Delta{x}$ variam entre os números reais.
Geralmente, desejaremos usar a Equação~\ref{eq:chpdiff:deltay} para
$\Delta{y}$ quando $x$ é um numero real e $\Delta{x}$ é um infinitésimo
não nulo. O Princípio da Transferência implica que a
Equação~\ref{eq:chpdiff:deltay} também determina $\Delta{y}$ como uma
função hiper-real de duas variáveis quando permitimos que $x$ e $\Delta{x}$
variem entre os números hiper-reais.

O valor $\Delta{y}$ é chamado de \newdef{incremento} de $y$. Geometricamente,
o incremento $\Delta{y}$ é a variação em $y$ ao longo da curva, correspondendo
a uma variação de $\Delta{x}$ em $x$. O símbolo $y'$ é por vezes usado para
a derivada $y' = f'(x)$. Assim, a equação hiper-real
$$
  f'(x) = \st{\frac{f(x+\Delta{x})-f(x)}{\Delta{x}}}
$$
pode assumir a forma abreviada
$$
  y' = \st{\frac{\Delta{y}}{\Delta{x}}}.
$$

O infinitésimo $\Delta{x}$ pode ser tanto positivo quanto negativo, mas
nunca pode ser zero. As várias possibilidades são ilustradas na
Figura~\ref{fig:slopecases} com o uso de um microscópio infinitesimal.
Os sinais de $\Delta{x}$ e $\Delta{y}$ são indicados nas legendas.

\includefig{slopecases}

Nossas regras para partes padronizadas podem ser usadas em muitos casos
para encontrarmos a derivada de uma função. Há duas partes no problema de
se encontrar a derivada $f'$ de uma função $f$:
\begin{enumerate}[(1)]
\item Encontre o domínio de $f'$.
\item Encontre o valor de $f'(x)$ quando este for definido.
\end{enumerate}

\begin{example}
\label{ex:cap2ex1}
Encontre a derivada da função
$$
  f(x) = x^3.
$$
Neste exemplo, assim como nos próximos, deixaremos $x$ variar entre os números
reais e $\Delta{x}$ variar entre os infinitésimos não nulos. Vamos introduzir
a nova variável $y$ com a equação $y=x^3$. Primeiramente, determinamos
$\Delta{y}/\Delta{x}$.
\begin{eqnarray*}
  y           & = & x^3, \\
  y+\Delta{y} & = & (x+\Delta{x})^3, \\
  \Delta{y}   & = & (x+\Delta{x})^3 - x^3, \\
  \frac{\Delta{y}}{\Delta{x}} & = &
    \frac{(x+\Delta{x})^3 - x^3}{\Delta{x}}.
\end{eqnarray*}
A seguir, simplificamos a expressão para $\Delta{y}/\Delta{x}$.
\begin{eqnarray*}
  \frac{\Delta{y}}{\Delta{x}} & = &
    \frac{(x^3+3x^2\Delta{x}+3x(\Delta{x})^2+(\Delta{x})^3)-x^3}
         {\Delta{x}} \\
  & = &
    \frac{3x^2\Delta{x}+3x(\Delta{x})^2+(\Delta{x})^3}
         {\Delta{x}} \\
  & = &
    3x^2+3x\Delta{x}+(\Delta{x})^2
\end{eqnarray*}
Então, tomamos a parte padronizada,
\begin{eqnarray*}
  \st{\frac{\Delta{y}}{\Delta{x}}} & = &
    \st{3x^2+3x\Delta{x}+(\Delta{x})^2} \\
  & = &
    \std(3x^2)+\std(3x\Delta{x})+\std((\Delta{x})^2) \\
  & = & 3x^2 + 0 + 0 = 3x^2.
\end{eqnarray*}
Portanto, $f'(x) = \st{\frac{\Delta{y}}{\Delta{x}}} = 3x^2.$
\end{example}

Demonstramos que a derivada da função $f(x) = x^3$ é a função $f'(x) = 3x^2$,
cujo domínio é toda a reta real. Os gráficos de $f$ e $f'$ são mostrados na
Figura~\ref{fig:cap2ex1}.

\includefig{cap2ex1}

\begin{example}
\label{ex:cap2ex2}
Determine $f'(x)$, onde $f(x) = \sqrt{x}$.
\begin{caseanalysis}
\item $x < 0$. Como $\sqrt{x}$ não está definido, $f'(x)$ não existe.
\item $x = 0$. Quando $\Delta{x}$ é um infinitésimo negativo, o termo
      $$
        \frac{\sqrt{x+\Delta{x}}-\sqrt{x}}{\Delta{x}} =
          \frac{\sqrt{0+\Delta{x}}-\sqrt{0}}{\Delta{x}}
      $$
      não está definido pois $\sqrt{\Delta{x}}$ é indefinido. Quando
      $\Delta{x}$ é um infinitésimo positivo, o termo
      $$
        \frac{\sqrt{x+\Delta{x}}-\sqrt{x}}{\Delta{x}} =
          \frac{\sqrt{\Delta{x}}}{\Delta{x}} =
            \frac{1}{\sqrt{\Delta{x}}}
      $$
      está definido, mas é um hiper-real infinito. Por duas razões
      (apenas uma delas bastaria), $f'(x)$ não existe.
\item $x>0$. Seja $y=\sqrt{x}$. Então
      \begin{eqnarray*}
        y+\Delta{y}                 & = & \sqrt{x + \Delta{x}}, \\
        \Delta{y}                   & = & \sqrt{x + \Delta{x}} - \sqrt{x}, \\
        \frac{\Delta{y}}{\Delta{x}} & = &
          \frac{\sqrt{x + \Delta{x}} - \sqrt{x}}{\Delta{x}}.
      \end{eqnarray*}
      Calculemos agora
      \begin{eqnarray*}
        \frac{\Delta{y}}{\Delta{x}} & = &
          \frac{\sqrt{x + \Delta{x}} - \sqrt{x}}{\Delta{x}} \cdot
          \frac{(\sqrt{x + \Delta{x}} + \sqrt{x})}
               {(\sqrt{x + \Delta{x}} + \sqrt{x})} \\
        & = &
          \frac{(x+\Delta{x})-x}{\Delta{x}(\sqrt{x + \Delta{x}} + \sqrt{x})} \\
        & = &
          \frac{\Delta{x}}{\Delta{x}(\sqrt{x + \Delta{x}} + \sqrt{x})} =
          \frac{1}{\sqrt{x + \Delta{x}} + \sqrt{x}}.
      \end{eqnarray*}
      Tomando partes padronizadas,
      \begin{eqnarray*}
        \st{\frac{\Delta{y}}{\Delta{x}}} & = &
          \st{\frac{1}{\sqrt{x + \Delta{x}} + \sqrt{x}}} \\
        & = &
          \frac{1}{\std(\sqrt{x + \Delta{x}} + \sqrt{x})} \\
        & = &
          \frac{1}{\std(\sqrt{x + \Delta{x}}) + \std(\sqrt{x})} \\
        & = &
          \frac{1}{\sqrt{x} + \sqrt{x}} = \frac{1}{2\sqrt{x}}.
      \end{eqnarray*}
      Portanto, quando $x > 0$,
      $$
        f'(x) = \frac{1}{2\sqrt{x}}.
      $$
\end{caseanalysis}
Assim, a derivada de $f(x) = \sqrt{x}$ é a função
$f'(x) = \frac{1}{2\sqrt{x}}$, e seu domínio é o conjunto de todos os
$x$ tais que $x > 0$ (veja Figura~\ref{fig:cap2ex2}).
\end{example}

\includefig{cap2ex2}

\begin{example}
Encontre a derivada de $f(x) = 1/x.$
\begin{caseanalysis}
\item $x = 0$. Neste caso, $1/x$ é indefinido, logo $f'(x)$ é indefinido.
\item $x \ne 0$.
      \begin{eqnarray*}
        y & = & 1/x, \\
        y+\Delta{y} & = & \frac{1}{x + \Delta{x}}, \\
        \Delta{y} & = & \frac{1}{x + \Delta{x}} - \frac{1}{x}, \\
        \frac{\Delta{y}}{\delta{x}} & = &
          \frac{1/(x + \Delta{x}) - 1/x}{\Delta{x}}.
      \end{eqnarray*}
      Simplificando,
      \begin{eqnarray*}
        \frac{1/(x + \Delta{x}) - 1/x}{\Delta{x}} & = &
          \frac{x-(x+\Delta{x})}{x(x+\Delta{x})\Delta{x}} =
            \frac{-\Delta{x}}{x(x+\Delta{x})\Delta{x}} \\
        & = & \frac{-1}{x(x+\Delta{x})}.
      \end{eqnarray*}
      Tomando a parte padrão,
      \begin{eqnarray*}
        \st{\frac{\Delta{y}}{\delta{x}}} & = &
          \st{-\frac{1}{x(x+\Delta{x})}} =
            -\frac{1}{\std(x(x+\Delta{x}))} \\
        & = &
          -\frac{1}{\std(x)\std(x+\Delta{x})} =
            -\frac{1}{x \cdot x} =
            -\frac{1}{x^2} .
      \end{eqnarray*}
      Logo, $f'(x) = -1/x^2.$
\end{caseanalysis}
A derivada da função $f(x) = 1/x$ é a função $f'(x) = -1/x^2$, cujo
domínio é o conjunto de todos os $x$ tais que $x \ne 0$. Os gráficos
de ambas as funções estão na Figura~\ref{fig:cap2ex3}.
\end{example}

\includefig{cap2ex3}

\begin{example}
Encontre a derivada de $f(x) = |x|$.

\begin{caseanalysis}
\item $x > 0$. Neste caso, $|x| = x$, e temos
      \begin{eqnarray*}
        y & = & x, \\
        y + \Delta{y} & = & x + \Delta{x}, \\
        \Delta{y} & = & \Delta{x}, \\
        \frac{\Delta{y}}{\Delta{x}} & = & 1, \hspace{4ex} f'(x) = 1.
      \end{eqnarray*}
\item $x < 0$. Agora, $|x| = -x$, e
      \begin{eqnarray*}
        y & = & -x, \\
        y + \Delta{y} & = & -(x + \Delta{x}), \\
        y & = & -(x + \Delta{x}) - (-x) = -\Delta{x}, \\
        \frac{\Delta{y}}{\Delta{x}} = -\frac{\Delta{x}}{\Delta{x}}
          & = & -1, \hspace{4ex} f'(x) = -1.
      \end{eqnarray*}
\item $x = 0$. Então,
      \begin{eqnarray*}
        y & = & 0, \\
        y + \Delta{y} & = & |0 + \Delta{x}| = |\Delta{x}|, \\
        \Delta{y} & = & |\Delta{x}|, \\
        \frac{\Delta{y}}{\Delta{x}} = \frac{|\Delta{x}|}{\Delta{x}}
          & = & \left\{
                  \begin{array}{lll}
                      & 1 & \text{ se } \Delta{x} > 0, \\
                    - & 1 & \text{ se } \Delta{x} < 0. \\
                  \end{array}
                \right.
      \end{eqnarray*}
      A parte padronizada de $\Delta{y}/\Delta{x}$ é $1$ para alguns
      valores de $\Delta{x}$ e $-1$ para outros. Portanto, $f'(x)$ não
      existe quando $x = 0$.

      Em suma,
      $$
        f'(x) \left\{
          \begin{array}{rll}
               & 1 & \text{ se } x > 0, \\
             - & 1 & \text{ se } x < 0, \\
             \multicolumn{2}{l}{\text{indefinido}} & \text{ se } x = 0.
          \end{array}
        \right.
      $$
      A Figura~\ref{fig:cap2ex4} mostra os gráficos de $f$ e $f'$.
\end{caseanalysis}
\end{example}

\includefig{cap2ex4}

A derivada possui uma variedade de aplicações na física e nas ciências
da vida e sociais. Ela pode aparecer em um dos contextos a seguir.

\emph{Velocidade}: se um objeto se move de acordo com a equação $s = f(t)$,
onde $t$ é o tempo e $s$ é a distância, a derivada $v = f'(t)$ é a
\emph{velocidade} do objeto no instante $t$.

\emph{Taxas de crescimento}: uma população $y$ (de pessoas, bactérias,
moléculas, etc.) cresce de acordo com a equação $y = f(t)$, onde $t$ é
o tempo. Então, a derivada $y' = f'(t)$ é a \emph{taxa de crescimento}
da população $y$ no instante $t$.

\emph{Custo marginal} (economia): suponha que o custo total (ou lucro,
etc.) de produção de $x$ itens é $y = f(x)$ reais. Então, o custo de
se produzir um item adicional é aproximadamente a derivada $y' = f'(x)$,
pois $y'$ é a alteração em $y$ por unidade de alteração em $x$. Esta
derivada é chamada \emph{custo marginal}.

\begin{example}
Suponha que uma cultura de bactérias se reproduz de tal maneira que
no instante $t$ há $t^3$ indivíduos na colônia. Encontre a taxa de
crescimento no instante $t = 1000$ segundos.

Como $y = t^3$, então $y' = 3t^2$ de acordo com o Exemplo~\ref{ex:cap2ex1}.
No instante $t = 1000$, temos $y' = \fnum{3000000}$ indivíduos por segundo.
\end{example}

\begin{example}
Suponha que o custo de produção de $x$ agulas é de $\sqrt{x}$ reais. Qual é
o custo marginal após $\fnum{10000}$ agulhas serem produzidas.

Como $y = \sqrt{x}$, então $\displaystyle y' = \frac{1}{2\sqrt{x}}$ de acordo com o Exemplo~\ref{ex:cap2ex2}. Quando $x = \fnum{10000}$, temos $\displaystyle y' = \frac{1}{2\sqrt{\fnum{10000}}} = \frac{1}{200} = 0,005$ reais por agulha.

Ou seja, o custo marginal é de metade de um centavo por agulha.
\end{example}

\begin{sectionproblems}
Encontre a derivada da função dada nos Problemas 1--21.

\twoexer{$f(x) = x^2$}{$f(t) = t^2 + 3$}

\twoexer{$f(x) = 1-2x^2$}{$f(x) = 3x^2 + 2$}

\twoexer{$f(t) = 4t$}{$f(x) = 2-5x$}

\twoexer{$f(t) = 4t^3$}{$f(t) = -t^3$}

\twoexer{$f(u) = 5\sqrt{u}$}{$f(u) = \sqrt{u+2}$}

\twoexer{$g(x) = x\sqrt{x}$}{$g(x) = 1/\sqrt{x}$}

\twoexer{$g(t) = t^{-2}$}{$g(t) = t^{-3}$}

\twoexer{$f(y) = 3y^{-1} + 4y$}{$f(y) = 2y^{3} + 4y^{2}$}

\twoexer{$f(x) = a x + b$}{$f(x) = a x^{2}$}

\twoexer{$f(x) = \sqrt{a x + b}$}{$f(x) = 1/(x + 2)$}

\exer{$f(x) = 1/(3-2x)$}

\exer{Encontre a derivada de $f(x) = 2x^2$ no ponto $x = 3$.}

\exer{Encontre a inclinação da curva $f(x) = \sqrt{x-1}$ no ponto $x = 5$.}

\exer{Um objeto se move de acordo com a equação $y = 1/(t+2)$, onde $t \ge 0$.
      Encontre a velocidade como função de $t$.}

\exer{Uma partícula se move de acordo com a equação $y = t^4$. Encontre a
      velocidade em função de $t$.}

\exer{Suponha que a população de uma cidade cresce de acordo com a equação
      $y = 100t + t^2$, onde $t$ é o tempo em anos. Encontre a taxa de
      crescimento populacional em $t = 100$ anos.}

\exer{Suponha que uma empresa lucra $1000x - x^2$ reais sobre a venda de
      $x$ itens. Encontre o lucro marginal, em reais por item, quando
      $x = 200$, $x = 500$ e $x = 1000$.}

\exer{Encontre a derivada da função $f(x) = |x+1|$.}

\exer{Encontre a derivada da função $f(x) = |x^3|$.}

\exer{Encontre a inclinação da parábola $y = ax^2 + bx + c$, onde
      $a$, $b$, $c$ são constantes.}

\end{sectionproblems}

\section{Diferenciais e Retas Tangentes}
\label{sec:tglines}

Dados uma curva $y = f(x)$ e um ponto $(a,b)$ sobre a curva, a inclinação
$f'(a)$ está definida. Assim, a \newdef{reta tangente} à curva no ponto
$(a,b)$, ilustrada na Figura\ref{fig:tangentline}, é definida como a reta
que passa pelo ponto $(a,b)$ e que possui a mesma inclinação que a curva em
$x = a$. Deste modo, a reta tangente é definida pela equação
$$
  r(x) - b = f'(a)(x-a),
$$
ou pela equação
$$
  r(x) = f'(a)(x-a) + b.
$$

\includefig[Retas tangentes.]{tangentline}

\begin{example}
Para a curva $y = x^3$, encontre as retas tangentes nos pontos $(0,0)$,
$(1,1)$ e $(-\frac{1}{2}, -\frac{1}{8})$. (Figura~\ref{fig:cap2p2ex1}).

\includefig{cap2p2ex1}

A inclinação é dada por $f'(x) = 3x^2$. Em $x = 0$, $f'(0) = 3 \cdot 0^2 = 0$.
A reta tangente tem equação
$$
  y = 0 (x - 0) + 0 \text{, \; ou seja, \; } y = 0.
$$
Em $x = 1$, $f'(1) = 3$, logo a reta tangente é
$$
  y = 3(x-1)+1 \text{, \; ou seja, \; } y =  3x-2.
$$
Em $x = -\frac{1}{2}$, $f'(-\frac{1}{2}) = 3 \cdot (-\frac{1}{2})^2 =
\frac{3}{4}$, logo a reta tangente é
$$
  y = \frac{3}{4} \left(x - \left(-\frac{1}{2}\right)\right) + \left(-\frac{1}{8}\right) \text{, \; ou seja, \; } y =  \frac{3}{4}x + \frac{1}{4}.
$$
\end{example}

Dada uma curva $y = f(x)$, suponha que $x$ comece com o valor $a$ e então
varie uma quantidade infinitesimal $\Delta x$. O que acontece com $y$?
Ao longo da curva, a variação em $y$ será
$$
  f(a + \Delta x) - f(a) = \Delta y.
$$
Mas ao longo da reta tangente, a variação em $y$ será
\begin{eqnarray*}
  r(a + \Delta x) - r(a) & = &
    [f'(a)(a + \Delta x - a) + b] - [f'(a)(a-a) + b]\\
                         & = & f'(a) \Delta x.
\end{eqnarray*}
Quando $x$ varia de $a$ para $a + \Delta x$, vemos que:
\begin{eqnarray*}
  \text{variação em $y$ ao longo da curva} & = &
    f(a+\Delta x) - f(a), \\
  \text{variação em $y$ ao longo da reta tangente} & = &
    f'(a) \Delta x.
\end{eqnarray*}
Na última seção, introduzimos a variável dependente $\Delta y$, o incremento
de $y$, a partir da equação
$$
  \Delta y = f(x + \Delta x) - f(x).
$$
O valor $\Delta y$ é igual à variação em $y$ ao longo da curva quando
$x$ varia para $x + \Delta x$.

O teorema a seguir nos dá uma fórmula simples, porém útil, para o cálculo
do incremento $\Delta y$

\begin{theorem}[Teorema do Incremento]
Seja $y = f(x)$. Suponha que $f'(x)$ existe para um certo ponto $x$ e que
$\Delta x$ é um infinitésimo. Então $\Delta y$ é um infinitésimo e
$$
  \Delta y = f'(x) \Delta x + \epsilon \Delta x
$$
para algum infinitésimo $\epsilon$, o qual depende de $x$ e $\Delta x$.
\end{theorem}

\begin{proof}
\begin{caseanalysis}
\item $\Delta x = 0$. Neste caso, $\Delta y = f'(x) \Delta x = 0$, e fazemos
      $\epsilon = 0$.
\item $\Delta x \ne 0$. Então
$$
  \frac{\Delta y}{\Delta x} \approx f'(x);
$$
logo, para algum infinitésimo $\epsilon$,
$$
  \frac{\Delta y}{\Delta x} = f'(x) + \epsilon.
$$
Multiplicando ambos os lados por $\Delta x$,
$$
  \Delta y = f'(x) \Delta x + \epsilon \Delta x.
$$
\end{caseanalysis}
\end{proof}

\begin{example}
Seja $y = x^3$, logo $y' = 3x^2$. De acordo com o Teorema do Incremento,
$$
  \Delta y = 3x^2 \Delta x + \epsilon \Delta x
$$
para algum infinitésimo $\epsilon$. Encontraremos $\epsilon$ em termo de
$x$ e $\Delta x$, para $\Delta x \ne 0$. Temos
\begin{eqnarray*}
  \Delta y & = & 3x^2 \Delta x + \epsilon \Delta x, \\
  \frac{\Delta y}{\Delta x} & = & 3x^2 + \epsilon, \\
  \epsilon & = & \frac{\Delta y}{\Delta x} - 3x^2.
\end{eqnarray*}
Ainda precisamos eliminar $\Delta y$. Do Exemplo~\ref{ex:cap2ex1} na
Seção~\ref{sec:derivatives},
\begin{eqnarray*}
  \Delta y = (x + \Delta x)^3 - x^3,
  \frac{\Delta y}{\Delta x} = 3x^2 + 3x\Delta x + (\Delta x)^2.
\end{eqnarray*}
Substituindo, obtemos $\epsilon = (3x^2 + 3x\Delta x + (\Delta x)^2) - 3x^2$.
Como $3x^2$ se cancela, temos
$$
  \epsilon = 3x \Delta x + (\Delta x)^2.
$$
\end{example}

Iremos agora introduzir uma nova variável dependente $\dif y$, chamada
diferencial de $y$, com a equação
$$
  \dif y = f'(x) \Delta x.
$$
O valor $\dif y$ é igual à variação em $y$ ao longo da reta tangente quando
$x$ varia para $x + \Delta x$. Na Figura~\ref{fig:dymicroscope}, vemos
$\dif y$ e $\Delta y$ sob o microscópio.

\includefig{dymicroscope}

Para manter a uniformidade da notação, introduziremos também o símbolo
$\dif x$ como outro nome para $\Delta x$. Para uma variável \emph{independente}
$x$, os valores de $\Delta x$ e $\dif x$ são iguais, mas para uma variável
\emph{dependente} $y$, is valores de $\Delta y$ e $\dif y$ diferem.

\begin{defin}
Suponha que $y$ depende de $x$, na forma $y = f(x)$.
\begin{enumerate}[(i)]
\item O \newdef{diferencial de $x$} é a variável independente $\dif x = \Delta x$
\item O \newdef{diferencial de $y$} é a variável dependente $\dif y$ dada
      por
      $$
        \dif y = f'(x) \dif x.
      $$
\end{enumerate}
\end{defin}

Quando $\dif x \ne 0$, a equação acima pode ser reescrita como
$$
  \frac{\dif y}{\dif x} = f'(x).
$$
Compare esta equação com
$$
  \frac{\Delta y}{\Delta x} \approx f'(x).
$$
O quociente $\dif y/\dif x$ é um símbolo alternativo muito conveniente para
a derivada $f'(x)$. Na verdade, escreveremos a derivada na forma
$\dif y/\dif x$ na maior parte do tempo.

O diferencial $\dif y$ depende de duas variáveis independentes $x$ e $\dif x$.
Em notação de função,
$$
  \dif y = \dif f(x,\dif x)
$$
onde $\dif f$ é a função real de duas variáveis definida por
$$
  \dif f(x,\dif x) = f'(x) \dif x.
$$
Quando $\dif x$ é substituído por $\Delta x$ e $\dif y$ por $f'(x) \dif x$,
o Teorema do Incremento assume a forma abreviada 
$$
  \Delta y = \dif y + \epsilon \dif x.
$$
O Teorema do Incremento pode ser explicado graficamente usando-se um
microscópio infinitesimal. Sob o microscópio, um segmento de comprimento
$\Delta x$ é ampliado para um segmento de comprimento unitário, mas um
segmento de comprimento $\epsilon \Delta x$ é apenas ampliado para um
comprimento infinitesimal $\epsilon$. Assim, o Teorema do Incremento mostra
que, quando $f'(x)$ existe:
\begin{enumerate}[(1)]
\item O diferencial $\dif y$ e o incremento
      $\Delta y = \dif y + \epsilon \dif x$ estão tão próximos que eles
      não há distinção entre eles sob um microscópio infinitesimal.
\item A curva $y = f(x)$ e a reta tangente em $(x,y)$ estão tão próximas
      que não há distinção entre elas sob um microscópio infinitesimal;
      ambas se assemelham a uma reta com inclinação $f'(x)$.
\end{enumerate}

A Figura~\ref{fig:dymicroscope} não é totalmente precisa. A curvatura teve
de ser exagerada de maneira que pudéssemos distinguir a curva da reta
tangente sob o microscópio. Para dar uma visão precisa, é necessário um
desenho mais complicado como o da Figura~\ref{fig:incrementtheo}, a qual
possui um segundo microscópio infinitesimal centrado no ponto
$(a + \Delta x, b + \Delta y)$ dentro do campo de visão do microscópio
original. Este segundo microscópio aumenta $\epsilon \dif x$ para um
comprimento unitário e amplia $\Delta x$ para um comprimento infinito.

\includefig{incrementtheo}

\begin{example}
Sempre que uma derivada $f'(x)$ é conhecida, podemos encontrar o diferencial
$\dif y$ imediatamente apenas multiplicando a derivada por $\dif x$, usando
a fórmula $\dif y = f'(x) \dif x$. Os exemplos na última seção nos dão os
seguintes diferenciais:
\def\itab#1{\hspace{1em}\rlap{#1}}
\def\tab#1{\hspace{.25\textwidth}\rlap{#1}}
\begin{enumerate}[(a)]
\item \itab{$y = x^3$,} \tab{$\dy = 3x^2 \dx$.}
\item \itab{$y = \sqrt{x}$,} \tab{$\displaystyle \dy = \frac{\dx}{2\sqrt{x}}$,
                                  onde $x > 0$.}
\item \itab{$y = 1/x$,} \tab{$\dy = -\dx/x^2$, onde $x \ne 0$.}
\item \itab{$y = |x|$,} \tab{$\displaystyle
                              \dif y = \left\{ \begin{array}{rll}
                                          & \dif x & \text{ quando } x > 0, \\
                                        - & \dif x & \text{ quando } x < 0, \\
                                        \multicolumn{2}{l}{\text{indefinido}} &
                                           \text{ quando } x = 0.
                                       \end{array} \right.$.}
\item \itab{$y = bt - 16t^2$,} \tab{$\dif y = (b - 32t) \dif t$.}
\end{enumerate}
\end{example}

A notação de diferencial também pode ser usada quando um sistema de fórmulas
nos é dado, no qual duas ou mais variáveis dependem de uma variável
independente. Por exemplo, se $y$ e $z$ são funções de $x$,
\begin{eqnarray*}
  y = f(x), &  & z = g(x),
\end{eqnarray*}
então $\Dy$, $\Dz$, $\dy$, $\dz$ são determinados por
\begin{eqnarray*}
  \Dy = f(x + \Dx) - f(x), &  & \Dz = g(x + \Dx) - g(x), \\
  \dy = f'(x) \dx,         &  & \dz = g'(x) \dx.
\end{eqnarray*}

\begin{example}
Sejam dados $y = \frac{1}{2}x$, $z = x^3$, com $x$ sendo a variável
independente, então
\begin{eqnarray*}
  \Dy & = & \frac{1}{2}(x + \Dx) - \frac{1}{2}x = \frac{1}{2}\Dx, \\
  \dy & = & \frac{1}{2}\dx, \\
  \Dz & = & 3x^2\Dx + 3x(\Dx)^2 + (\Dx)^3, \\
  \dz & = & 3x^2 \dx. 
\end{eqnarray*}
O significado dos símbolos para incremento e diferencial neste exemplo
seriam diferentes se tomássemos $y$ como a variável independente. Assim,
$x$ e $z$ seriam funções de $y$, onde
\begin{eqnarray*}
  x = 2y, &  & z = 8y^3.
\end{eqnarray*}
Agora, $\Dy = \dy$ é apenas uma variável independente, enquanto que
\begin{eqnarray*}
  \Dx & = & 2(y + \Dy) - 2y = 2\Dy, \\
  \Dz & = & 8(y+\Dy)^3 - 8y^3 \\
      & = & 8[3y^2 \Dy + 3y(\Dy)^2 + (\Dy)^3] \\
      & = & 24y^2 \Dy + 24y(\Dy)^2 + 8(\Dy)^3.
\end{eqnarray*}
Além disso, $\dx = 2\dy$ \; e \; $\dz = 24y^2\dy$.
\end{example}

Podemos também aplicar a notação de diferencial a termos. Se $\tau(x)$ é
um termo com a variável $x$, então $\tau(x)$ determina uma função $f(x)$,
$$
  \tau(x) = f(x),
$$
e o diferencial $\dif(\tau(x))$ tem o significado
$$
  \dif(\tau(x)) = f'(x) \dx.
$$

\begin{example}
\par\indent
\begin{enumeratewithspaces}[(a)]
\item $\dif(x^3) = 3x^2 \dx.$
\item $\displaystyle \dif(\sqrt{x}) = \frac{\dx}{2\sqrt{x}}$, \hspace{1.5em} $x > 0$
\item $\dif(1/x) = -\frac{\dx}{x^2}$, \hspace{1.5em} $x \ne 0$
\item $\dif(|x|) = \left\{ \begin{array}{rll}
                       & \dx & \text{ quando } x > 0, \\
                     - & \dx & \text{ quando } x < 0, \\
                     \multicolumn{2}{l}{\text{indefinido}} &
                       \text{ quando } x = 0.
                   \end{array} \right.$
\item Seja $u = bt$ e $w = -16t^2$. Então
\begin{eqnarray*}
  u + w & = & bt - 16t^2. \\
  \dif(u + w) & = & (b - 32t)\dif t.
\end{eqnarray*}
\end{enumeratewithspaces}
\end{example}

\begin{sectionproblems}
Nos Problemas~\ref{prob:cap2p2p1}--\ref{prob:cap2p2p8}

\twoexer{$y=x^2$\label{prob:cap2p2p1}}%
        {$y = -5x^2$}

\twoexer{$y = 2\sqrt{x}$}{$y = x^4$}

\twoexer{$y = 1/x$}{$y = x^{-2}$}

\twoexer{$y=x-1/x$}%
        {$y = 4x+x^3$\label{prob:cap2p2p8}}

\exer{Se $y = 2x^2$ e $z = x^3$, encontre $\Dy$, $\Dz$, $\dy$ e $\dz$.}

\exer{Se $y = 1/(x+1)$ e $z = 1/(x+2)$, encontre $\Dy$, $\Dz$, $\dy$ e $\dz$.}

\twoexer{Encontre $\dif(2x+1)$}%
        {Encontre $\dif(x^2-3x)$}

\twoexer{Encontre $\dif(\sqrt{x+1})$}%
        {Encontre $\dif(\sqrt{2x+1})$}

\twoexer{Encontre $\dif(ax+b)$}%
        {Encontre $\dif(ax^2)$}

\twoexer{Encontre $\dif(3+2/x)$}%
        {Encontre $\dif(x \sqrt{x})$}

\twoexer{Encontre $\dif(1/\sqrt{x})$}%
        {Encontre $\dif(x^3 - x^2)$}

\exer{Sejam $y = \sqrt{x}$, $z = 3x$. Encontre $\dif(y + z)$ e $\dif(y/z)$.}

\exer{Sejam $y = x^{-1}$, $z = x^3$. Encontre $\dif(y+z)$ e $\dif(yz)$.}

Nos Problemas~\ref{prob:cap2p2p23}--\ref{prob:cap2p2p30} abaixo, dados
uma curva e um ponto, encontre a equação da reta tangente.

\twoexer{$y = x^2; \; (2,4)$ \label{prob:cap2p2p23}}%
        {$y = 2x^2; \; (-1,2)$}

\twoexer{$y = -x^2; \; (0,0)$}%
        {$y = \sqrt{x}; \; (1,1)$}

\twoexer{$y = 3x-4; \; (1,-1)$}%
        {$y = \sqrt{t-1}; \; (5,2)$}

\twoexer{$y = x^4; \; (-2,16)$}%
        {$y = x^3 - x; \; (0,0)$ \label{prob:cap2p2p30}}

\exer{Encontre a equação da reta tangente à parábola $y = x^2$
      no ponto $(x_0, x_0^2)$.}

\exer{Encontre todos os pontos $P(x_0,x_0^2)$ na parábola $y = x^2$
      tais que a reta tangente em $P$ passe pelo ponto $(0,-4)$.}

\hardex{Demonstre que a reta tangente à parábola $y = x^2$ no
        ponto $P(x_0,x_0^2)$ não intersecta a parábola em qualquer
        outro ponto além de $P$.}

\end{sectionproblems}

\section{Derivadas de Funções Racionais}
\label{sec:derivratfunc}

Um termo da forma
$$
  a_1 x + a_0,
$$
onde $a_1$, $a_0$ são números reais, é chamado um \newdef[termo!linear]{termo
linear} em $x$; se $a_1 \ne 0$, também é chamado \newdef[polinômio!de grau
$1$]{polinômio de grau um} em $x$. Um termo da forma
$$
  a_2 x^2 + a_1 x + a_0, \hspace{1.5em} a_2 \ne 0
$$
é chamdo \newdef[polinômio!de grau $2$]{polinômio de grau dois} em $x$ e,
em geral, um termo da forma
$$
  a_n x^n + a_{n-1} x^{n-1} + \ldots + a_1 x + a_0, \hspace{1.5em} a_n \ne 0
$$
é chamado \newdef[polinômio!de grau $n$]{polinômio de grau $n$} em $x$.

Um \newdef[termo!racional]{termo racional} em $x$ é qualquer termo
construído a partir da variável $x$ e números reais usando-se as
operações de adição, multiplicação, subtração e divisão. Por exemplo,
todo polinômio é um termo racional, assim como os termos
$$
  \frac{(3x^2- 5)(x+2)^3}{5x - 11}, \hspace{1.5em} \frac{(1+1/x)^9}{x^3 + 1/(2-x)}.
$$

Uma \newdef[função!linear]{função linear},
\newdef[função!polinomial]{função polinomial} ou
\newdef[função!racional]{função racional} é uma função que é dada por
um termo linear, polinomial ou racional, respectivamente. Nesta seção,
estabeleceremos um conjunto de regras que nos permitirão rapidamente
diferenciar qualquer função racional. As regras também serão úteis mais
tarde, quando calcularemos as derivadas de outras funções.

\begin{theorem}\label{teo:difflinear}
A derivada de uma função linear é igual ao coefficiente de $x$. Ou seja,
$$
  \frac{\dif(bx + c)}{\dx} = b, \hspace{1.5em} \dif(bx + c) = b \dx.
$$
\end{theorem}

\begin{proof}
Seja $y = bx + c$ e seja $\Dx \ne 0$ um infinitésimo. Então,
\begin{eqnarray*}
  y + \Dy & = & b(x + \Dx) + c, \\
      \Dy & = & (b(x + \Dx) + c) - (bx + c) = b \Dx, \\
 \frac{\Dy}{\Dx} & = & \frac{b \Dx}{\Dx} = b.
\end{eqnarray*}
Portanto, $\displaystyle\frac{\dif(bx + c)}{\dx} = \std(b) = b$.

Multiplicando por $\dy$, obtemos
$$
  \dy = b \dx.
$$
\end{proof}

Se, no Teorema~\ref{teo:difflinear}, fixarmos $b = 1$, $c = 0$, veremos que
a derivada da função identidade $f(x) = 1$ é $f'(x) = 1$, ou seja,
$$
  \frac{\dx}{\dx} = 1, \hspace{1.5em} \dx = \dx.
$$

Por outro lado, se fixarmos $b = 0$ no Teorema~\ref{teo:difflinear}, então
o termo $b x + c$ é apenas a constante $c$, e encontramos que a derivada
de uma função constante $g(x) = c$ é $g'(x) = 0$, ou seja,
$$
  \frac{\dif c}{\dx} = 0 \hspace{1.5em} \dif c = 0.
$$

\begin{theorem}[Regra da Soma]\label{teo:diffsum}
Suponha que $u$ e $v$ dependem de uma variável independente $x$. Então,
para qualquer valor de $x$ onde $\du/\dx$ e $\dv/\dx$ existam,
$$
  \frac{\dif(u+v)}{\dx} = \frac{\du}{\dx} + \frac{\dv}{\dx},
  \hspace{1.5em}
  \dif(u+v) = \du + \dv.
$$
Em outras palavras, a derivada da soma é a soma das derivadas.
\end{theorem}

\begin{proof} Seja $y = u + v$ e seja $\Dx \ne 0$ um infinitésimo. Então
\begin{eqnarray*}
  y + \Dy & = & (u + \Du) + (v + \Dv), \\
  \Dy & = & [(u + \Du) + (v + \Dv)] - [u + v] = \Du + \Dv, \\
  \frac{\Dy}{\Dx} & = & \frac{\Du + \Dv}{\Dx} = \frac{\Du}{\Dx} + \frac{\Dv}{\Dx}.
\end{eqnarray*}
Tomando as partes padronizadas,
$$
  \st{\frac{\Dy}{\Dx}} = \st{\frac{\Du}{\Dx} + \frac{\Dv}{\Dx}} =
    \st{\frac{\Du}{\Dx}} + \st{\frac{\Dv}{\Dx}}.
$$
Portanto, $$\frac{\dy}{\dx} = \frac{\du}{\dx} + \frac{\dv}{\dx}.$$
\end{proof}

Aplicando-se a Regra da Soma $n-1$ vezes, vemos que
$$
  \frac{\dif(u_1 + \cdots + u_n)}{\dx} =
  \frac{\dif u_1}{\dx} + \cdots + \frac{\dif u_n}{\dx},
  \hspace{1.5em} \text{ou} \hspace{1.5em}
  \dif(u_1 + \cdots + u_n) = \dif u_1 + \cdots + \dif u_n.
$$

\begin{theorem}[Regra da Constante]
Suponha que $x$ depende de $x$, e que $c$ é um número real. Então, para
qualquer valor de $x$ onde $\du/\dx$ existe,
$$
  \frac{\dif(cu)}{\dx} = c\frac{\du}{\dx},
  \hspace{1.5em}
  \dif(cu) = c \du.
$$
\end{theorem}

\begin{proof} Seja $y = cu$ e seja $\Dx \ne 0$ um infinitésimo. Então,
\begin{eqnarray*}
  y + \Dy & = & c(u + \Du), \\
  \Dy & = & c(u + \Du) - cu = c \Du, \\
  \frac{\Dy}{\Dx} & = & \frac{c \Du}{\Dx} = c \frac{\Du}{\Dx}.
\end{eqnarray*}
Tomando as partes padronizadas,
$$
  \st{\frac{\Dy}{\Dx}} = \st{c\frac{\Du}{\Dx}} = c \st{\frac{\Du}{\Dx}},
$$
logo, $$\displaystyle \frac{\dy}{\dx} = c \frac{\du}{\dx}.$$
\end{proof}

A Regra da Constante nos mostra que, quando estamos calculando derivadas,
um fator constante pode ser movido ``para fora'' da derivada. Isto só é
verdade quando $c$ é uma constante. Para produtos de duas funções de $x$,
temos a regra a seguir.

\begin{theorem}[Regra do Produto]
Suponha que $u$ e $v$ dependam de $x$. Então, para qualquer valor $x$ onde
$\du/\dx$ e $\dv/dx$ estejam definidos,
$$
  \frac{\dif(u,v)}{\dx} = u \frac{\dv}{\dx} + v \frac{\du}{\dx},
  \hspace{1.5em}
  \dif(u,v) = u \dv + v \du.
$$
\end{theorem}

\begin{proof}
Seja $y = uv$ e seja $\Dx \ne 0$ um infinitésimo.
\begin{eqnarray*}
  y + \Dy & = & (u + \Du)(v + \Dv), \\
  \Dy & = & (u + \Du)(v + \Dv) - uv = u \Dv + v \Du + \Du \Dv, \\
  \frac{\Dy}{\Dx} & = & \frac{u \Dv + v \Du + \Du \Dv}{\Dx} =
    u \frac{\Dv}{\Dx} + v \frac{\Du}{\Dx} + \Du \frac{\Dv}{\Dx}.
\end{eqnarray*}
Pelo Teorema do Incremento, $\Du$ é um infinitésimo, portanto
\begin{eqnarray*}
  \st{\frac{\Dy}{\Dx}} = \st{u \frac{\Dv}{\Dx} + v \frac{\Du}{\Dx} + \Du \frac{\Dv}{\Dx}} \\
  & = & u \cdot \st{\frac{\Dv}{\Dx}} + v \cdot \st{\frac{\Du}{\Dx}} + 0 \cdot \st{\frac{\Dv}{\Dx}}
\end{eqnarray*}
Logo, $\displaystyle \frac{\dy}{\dx} = u \frac{\dv}{\dx} + v \frac{\du}{\dx}$.
\end{proof}

A Regra da Constante é, na realidade, um caso especial da Regra do Produto,
onde $v$ é uma função constante com relação a $x$, ou seja, $v = c$. Para
verificar esta afirmação, seja $v$ uma constante $c$ e observe que a
Regra do Produto nos dá:
$$
  \frac{\dif(u \cdot c)}{\dx} = u \frac{\dif c}{\dx} + c \frac{\du}{\dx}
    = u \cdot 0 + c \frac{\du}{\dx} = c \frac{\du}{\dx}.
$$
Esta igualdade é justamente a Regra da Constante.

A Regra do Produto também pode ser usada para encontrarmos a derivada de
uma potência de $u$.

\begin{theorem}[Regra da Potência]
\label{teo:diffpower}
Suponha que $u$ depende de $x$ e seja $n$ um inteiro positivo. Para todo
valor de $x$ onde $\du/\dx$ existe,
$$
  \frac{\dif(u^n)}{\dx} = n u^{n-1} \frac{\du}{\dx},
  \hspace{1.5em}
  \dif(u^n) = n u^{n-1} \du.
$$
\end{theorem}

\begin{proof}
Para vermos o que acontece, primeiro demonstraremos a Regra do Produto
para $n = 1, 2, 3, 4$.
\begin{enumerate}[$n =$ 1:]
\item Temos $u^n = u$ e $u^0 = 1$, portanto
$$
  \frac{\dif(u^n)}{\dx} = \frac{\du}{\dx} = 1 \cdot u^0 \cdot \frac{\du}{\dx}.
$$
\item Usamos a Regra do Produto,
$$
  \frac{\dif(u^2)}{\dx} = \frac{\dif(u \cdot u)}{\dx} = u \frac{\du}{\dx} + u \frac{\du}{\dx} = 2 \cdot u^2 \cdot \frac{\du}{\dx}.
$$
\item Escrevemos $u^3 = u \cdot u^2$, usamos novamente a Regra do Produto e
      então usamos o resultado para $n = 2$.
\begin{eqnarray*}
  \frac{\dif(u^3)}{\dx} & = & \frac{\dif(u \cdot u^3)}{\dx} =
    u \frac{\dif(u^2)}{\dx} + u^2 \frac{\du}{\dx} \\
  & = & u \cdot 2u \frac{\du}{\dx} + u^2 \frac{\du}{\dx} =
    3 u^2 \frac{\du}{\dx}.
\end{eqnarray*}
\item Usando a Regra do Produto e então o resultado para $n = 3$,
\begin{eqnarray*}
  \frac{\dif(u^4)}{\dx} & = & \frac{\dif(u \cdot u^3)}{\dx} =
    u \frac{\dif(u^3)}{\dx} + u^3 \frac{\du}{\dx} \\
  & = & u \cdot 3u^2 \frac{\du}{\dx} + u^3 \frac{\du}{\dx} =
    4 u^3 \frac{\du}{\dx}.
\end{eqnarray*}
\end{enumerate}
Podemos continuar este processo indefinidamente e provar o teorema para
todo inteiro positivo $n$. Para ver isto, assuma que demonstramos o teorema
para $m$. Ou seja, assuma que
\begin{eqnarray}
  \frac{\dif(u^m)}{\dx} = m u^{m-1} \frac{\du}{\dx}. \label{eq:diffpower}
\end{eqnarray}
Em seguida, demonstramos que a afirmação também é verdade para $m+1$. Usando
a Regra do Produto e a Equação~\ref{eq:diffpower}, temos
\begin{eqnarray*}
  \frac{\dif(u^{m+1})}{\dx} & = & \frac{\dif(u \cdot u^m)}{\dx} =
    u \frac{\dif(u^m)}{\dx} + u^m \frac{\du}{\dx} \\
  & = & u \cdot m u^{m-1} \frac{\du}{\dx} + u^m \frac{\du}{\dx} =
    (m + 1)u^m \frac{\du}{\dx}.
\end{eqnarray*}
Logo,
$$
  \frac{\dif(u^{m+1})}{\dx} = (m + 1)u^m \frac{\du}{\dx}.
$$
Isto mostra que o teorema é verdadeiro para $m + 1$.

Mostramos que o teorema é válido para $1, 2, 3, 4$. Fixe $m = 4$; então,
o teorema será válido para $m + 1 = 5$. Fixe $m = 5$; então, o teorema é
válido para $m + 1 = 6$. E assim em diante. Portanto, o teorema é válido
para todo inteiro positivo $n$.
\end{proof}

Na prova da Regra da Potência usamos o princípio a seguir.

\subpart{Princípio da Indução}

\begin{quote}
       Suponha que uma proposição $P(n)$ sobre um inteiro arbitrário $n$
       é verdadeira quando $n = 1$. Suponha, além disto, que para cada
       inteiro positivo $m$ tal que $P(m)$ seja verdade, $P(m+1)$ também
       seja verdade. Então, a proposição $P(n)$ é verdadeira para todo
       inteiro positivo $n$.
\end{quote}

Na demonstração anterior, a proposição $P(n)$ era a Regra da Potência,
$$
  \frac{\dif(u^n)}{\dx} = n u^{n-1} \frac{\du}{\dx}.
$$

O Princípio da Indução pode se tornar plausível da seguinte forma. Seja $n$
um inteiro positivo dado. Fixe $m = 1$; como $P(1)$ é verdade, então $P(2)$
é verdade. Agora, fixe $m = 2$; como $P(2)$ é verdade, $P(3)$ é verdade.
Continuamos a repetir o raciocíonio deste modo por $n$ passos e concluímos
que $P(n)$ é verdade.

A Regra da Potência também é verdade para $n = 0$ pois, quando $u \ne 0$,
temos que $u^0 = 1$ e $\dif 1/\dif x = 0$.

Usando as Regras da Soma, Constante e Potência, podemos calcular a derivada
de uma função polinomial facilmente. Temos que
\begin{eqnarray*}
  \frac{\dif(x^n)}{\dx} & = & n x^{n-1}, \\
  \frac{\dif(c x^n)}{\dx} & = & c n x^{n-1},
\end{eqnarray*}
e então
$$
  \frac{\dif(a_n x^n + a_{n-1} x^{n-1} + \cdots + a_1 x + a_0)}{\dx} =
    a_n \cdot n x^{n-1} + a_{n-1}(n-1)x^{n-2} + \cdots + a_1.
$$

\begin{example}
$\displaystyle
  \frac{\dif(-3x^5)}{\dx} = -3 \cdot 5x^4 = -15x^4.
$
\end{example}

\begin{example}
$\displaystyle
  \frac{\dif(6x^4 - 2x^3 + x - 1)}{\dx} = 24x^3 - 6x^2 + 1.
$
\end{example}

A seguir, apresentaremos dois fatos úteis como corolários.

\begin{corollary}
A derivada de um polinômio de grau $n > 0$ é um polinômio de grau $n-1$.
\end{corollary}

\begin{corollary}
Se $u$ depende de $x$, então
$$
  \frac{\dif(u + c)}{\dx} = \frac{\du}{\dx}
$$
sempre que $\du/\dx$ existir. Ou seja, adicionar uma constante a uma função
não altera a sua derivada.
\end{corollary}

Na Figura~\ref{fig:addconst}, vemos que o efeito de se adicionar uma constante
é mover a curva para cima ou para baixo no eixo $y$, sem alterações de
inclinação.

\includefig{addconst}

Para as próximas duas regras nesta seção, precisaremos da fórmula para a
derivada de $1/v$.

\begin{lemma}\label{lem:diff1overV}
Suponha que $v$ depende de $x$. Então, para todo valor de $x$ tal que
$v \ne 0$ e $\dv/\dx$ existe,
$$
  \frac{\dif(1/v)}{\dx} = -\frac{1}{v^2} \frac{\dv}{\dx},
  \hspace{1.5em}
  \dif\left(\frac{1}{x}\right) = -\frac{1}{v^2} \dv.
$$
\end{lemma}

\begin{proof} Seja $y = 1/v$ e seja $\Dx \ne 0$ um infinitésimo.
\begin{eqnarray*}
  y + \Dy & = & \frac{1}{v + \Dv}, \\
  \Dy & = & \frac{1}{v + \Dv} - \frac{1}{v}, \\
  \frac{\Dy}{\Dx} & = & \frac{1/(v + \Dv) - 1/v}{\Dx} \\
  & = & \frac{v - (v + \Dv)}{\Dx \cdot v(v + \Dv)} \\
  & = & -\frac{1}{v(v + \Dv)} \frac{\Dv}{\Dx}.
\end{eqnarray*}
Tomando partes padronizadas,
\begin{eqnarray*}
  \st{\frac{\Dy}{\Dx}} & = & \st{-\frac{1}{v(v+\Dv)} \frac{\Dv}{\Dx}} \\
  & = & \st{-\frac{1}{v(v+\Dv)}} \st{\frac{\Dv}{\Dx}} \\
  & = & -\frac{1}{v^2} \st{\frac{\Dv}{\Dx}}.
\end{eqnarray*}
Portanto,
$$
  \frac{\dy}{\dx} = -\frac{1}{v^2} \frac{\dv}{\dx}.
$$
\end{proof}

\begin{theorem}[Regra do Quociente]
Suponha que $u$, $v$ dependem de $x$. Então, para todo valor de $x$ tal
que $\du/\dx$, $\dv/\dx$ existem e $v \ne 0$,
$$
  \frac{\dif(u/v)}{\dx} = \frac{v \du/\dx - u \dv/\dx}{v^2},
  \hspace{1.5em}
  \dif\left(\frac{u}{v}\right) = \frac{v \du - u \dv}{v^2}.
$$
\end{theorem}

\begin{proof} Combine a Regra do Produto com a fórmula para $\dif(1/v)$
no Lema~\ref{lem:diff1overV}. Seja $y = u/v$. Escreva $y$ na forma
$$
  y = \frac{1}{v} \cdot u.
$$
Então,
\begin{eqnarray*}
  \dy & = & \dif\left(\frac{1}{v} u\right) =
    \frac{1}{v} \du + u \dif\left( \frac{1}{v} \right) \\
  & = & \frac{1}{v} \du + u (-v^{-2}) \dv \\
  & = & \frac{v \du - u \dv}{v^2}.
\end{eqnarray*}
\end{proof}

\begin{theorem}[Regra da Potência para Expoentes Negativos]
Suponha que $u$ dependa de $x$ e seja $n$ um inteiro negativo. Então, para
todo valor de $x$ tal que $\du/\dx$ existe e $u \ne 0$, temos que
$\dif(u^n)/\dx$ existe e
$$
  \frac{\dif(u^n)}{\dx} = n u^{n-1} \frac{\du}{\dx},
  \hspace{1.5em}
  \dif(u^n) = n u^{n-1} \du.
$$
\end{theorem}

\begin{proof} Como $n$ é negativo, $n = -m$ onde $m$ é positivo. Seja
$y = u^n = u^{-m}$. Então, $y = 1/u^m$. Pelo Lema~\ref{lem:diff1overV}
e pela Regra da Potência,
\begin{eqnarray*}
 \frac{\dy}{\dx} = -\frac{1}{(u^m)^2} \cdot \frac{\dif(u^m)}{\dx} \\
 & = & -\frac{1}{u^{2m}} \cdot m u^{m-1} \frac{\du}{\dx} \\
 & = & (-m) u^{-2m} u^{m-1} \frac{\du}{\dx} \\
 & = & (-m) u^{-m-1} \frac{\du}{\dx} = n u^{n-1} \frac{\du}{\dx}.
\end{eqnarray*}
\end{proof}

A Regra do Quociente em conjunto com as Regras da Constante, Soma, Produto e
Potência tornam fácil diferenciar qualquer função racional.

\begin{example} Encontre $\dy$ quando
$$
  y = \frac{1}{x^2 - 3x + 1}.
$$

Introduza uma nova variável $u$ com a equação
$$
  u = x^2 - 3x + 1.
$$
Então $y = 1/u$ e $\du = (2x - 3) \dx$, logo
$$
  \dy = -\frac{1}{u^2} \du = \frac{-(2x - 3)}{(x^2 - 3x + 1)^2} \dx.
$$
\end{example}

\begin{example}
Seja $\displaystyle y = \frac{(x^4 - 2)^3}{5x - 1}$ e encontre $\dy$.

Considere $u = (x^4 - 2)^3$, \hspace{1.5em} $v = 5x - 1$.

Então,
$$
  y = \frac{u}{v}, \hspace{1.5em} \dy = \frac{v \du - u \dv}{v^2}.
$$

Também temos que
\begin{eqnarray*}
  \du & = & 3 \cdot (x^4 - 2)^2 \cdot 4x^3 \dx = 12(x^4 - 2)^2 \cdot x^3 \dx, \\
  \dv & = & 5 \dx.
\end{eqnarray*}

Deste modo,
\begin{eqnarray*}
  \dy & = & \frac{(5x - 1) \cdot 12 \cdot (x^4 - 2)^2 x^3 \dx -
                  (x^4-2)^3 \cdot 5 \dx}{(5x-1)^2} \\
  & = & \frac{(x^4-2)^2[12(5x-1)x^3-5(x^4-2)]}{(5x-1)^2} \dx.
\end{eqnarray*}
\end{example}

\begin{example}
Seja $y = 1/x^3 + 3/x^2 + 4/x + 5$.

Então, \hspace{1.5em} $\dy = \mathstrut\left( -\dfrac{3}{x^4} - \dfrac{6}{x^3} - \dfrac{4}{x^4} \right) \dx.$
\end{example}

\begin{example}
Encontre $\dy$ onde
$$
  y = \left( \frac{1}{x^2+ x} + 1 \right)^2.
$$
Este problema pode ser resolvido por meio de uma dupla substituição. Sejam
$$
  u = x^2 + x, \hspace{1.5em} v = \frac{1}{u} + 1.
$$
Então \hspace{1.5em} $y = v^2$.

Encontramos $\dy$, $\dv$ e $\du$,
\begin{eqnarray*}
  \dy & = & 2v \dv, \\
  \dv & = & -u^{-2} \du, \\
  \du & = & (2x+1) \dx.
\end{eqnarray*}
Substituindo, obtemos $\dy$ em termos de $x$ e $\dx$,
\begin{eqnarray*}
  dy & = & 2v(-u^{-2} \du) \\
  & = & -2vu^{-2}(2x+1) \dx \\
  & = & -2 \left(\frac{1}{u} + 1\right) u^{-2} (2x+1) \dx \\
  & = & -2 \left(\frac{1}{x^2+x} + 1\right)(x^2 + x)^{-2}(2x+1)\dx.
\end{eqnarray*}
\end{example}

\begin{example}
Assuma que $u$ e $v$ dependam de $x$. Dado $y = (uv)^{-2}$, encontre
$\dy/\dx$ em termos de $\du/\dx$ e $\dv/\dx$.

Seja $s = uv$, então $y = s^{-2}$. Temos
\begin{eqnarray*}
  \dy & = & -2s^{-3} \dif s, \\
  \dif s & = & u \dv + v \du.
\end{eqnarray*}
Substituindo,
\begin{eqnarray*}
  \dy & = & -2(uv)^{-3} (u \dv + v \du), \\
  \frac{\dy}{\dx} & = & -2(uv)^{-3} (u \frac{\dv}{\dx} + v \frac{\du}{\dx}).
\end{eqnarray*}
\end{example}

As seis regras para diferenciação que demonstramos nesta seção são tão
úteis que elas deveriam ser memorizadas. Listamos todas estas regras
na Tabela~\ref{tab:diffrules}.

\begin{table}
\caption{Regras para Diferenciação.}
\label{tab:diffrules}

\hrule
\vspace{1.5em}

$$
\begin{array}{c@{\hspace{1.5em}}l@{\hspace{1.5em}}l}
  (1) & \dfrac{\dif(bx+c)}{\dx} = b &
        \dif(bx+c) = b \dx \\[1.5em]
  (2) & \dfrac{\dif(u+v)}{\dx} = \dfrac{\du}{\dx} + \dfrac{\dv}{\dx} &
        \dif(u+v) = \du + \dv \\[1.5em]
  (3) & \dfrac{\dif(cu)}{\dx} = c \dfrac{\du}{\dx} &
        \dif(cu) = c \du \\[1.5em]
  (4) & \dfrac{\dif(u,v)}{\dx} = u \dfrac{\dv}{\dx} + v \dfrac{\du}{\dx} &
        \dif(uv) = u \dv + v \du \\[1.5em]
  (5) & \dfrac{\dif(u^n)}{\dx} = n u^{n-1} \dfrac{\du}{\dx} &
        \dif(u^n) = n u^{n-1} \du \hspace{1.5em} \text{($n$ inteiro qualquer)} \\[1.5em]
  (6) & \dfrac{\dif(u/v)}{\dx} = \dfrac{v \du/\dx - u \dv/\dx}{v^2} &
        \dif(u/v) = \dfrac{v \du - u \dv}{v^2} \\[1.5em]
\end{array}
$$
\hrule
\end{table}

Uma forma fácil de lembrar a maneira que os sinais aparecem na Regra do Quociente (6) é fixar $u = 1$ e usar a Regra da Potência (5) com $n = -1$,
$$
  \dif(1/v) = \dif(v^{-1}) = -1 \cdot v^{-2} \dv = \frac{-1}{v^2} \dv.
$$

\begin{sectionproblems}
Nos Problemas~\ref{prob:cap2p3p1}--\ref{prob:cap2p3p42} abaixo, encontre a
derivada.

\twoexer{$f(x) = 3x^2 + 5x - 4$\label{prob:cap2p3p1}}%
        {$s = \frac{1}{3}t^3 + \frac{1}{2}t^2 +t$}

\twoexer{$y = (x+8)^5$}%
        {$z = (2+ex)^4$}

\twoexer{$f(t) = (4-t)^3$}%
        {$g(x0 = 3(2-5x)^6$}

\twoexer{$y = (x^2 + 5)^3$}%
        {$u = (6 + 2x^2)^3$}

\twoexer{$u = (6-2x^2)^3$}%
        {$w = (1+4x^3)^{-2}$}

\twoexer{$w = (1-4x^3)^{-2}$}%
        {$y = 1 + x^{-1} + x^{-2} + x^{-3}$}

\twoexer{$f(x) = 5(x + 1 - 1/x)$}%
        {$u = (x^2 + 3x + 1)^4$}

\twoexer{$v = 4(2x^2 - x + 3)^{-2}$}%
        {$y = -(2x + 3 + 4x^{-1})^{-1}$}

\twoexer{$y = \dfrac{1}{1 + 1/t}$}%
        {$y = \dfrac{1}{2x^2 + 1}$}

\twoexer{$s = \dfrac{-3}{4t^2 - 2t + 1}$}%
        {$s = (2t + 1)(3t - 2)$}

\twoexer{$h(x) = \frac{1}{2}(x^2 + 1)(5 - 2x)$}%
        {$y = (2x^3 + 4)(x^2 - 3x + 1)$}

\twoexer{$v = (3t^2 + 1)(2t - 4)^3$}%
        {$z = (-2x \! + \! 4 \! + \! 3x^{-1})(x \! + \! 1 \! - \! 5x^{-1})$}

\twoexer{$y = \dfrac{x + 1}{x - 1}$}%
        {$w = \dfrac{2 - 3x}{1 + 2x}$}

\twoexer{$y = \dfrac{x^2 - 1}{x^2 + 1}$}%
        {$u = \dfrac{x}{x^2 + 1}$}

\twoexer{$x = \dfrac{(s-1)(s-1)}{s - 3}$}%
        {$y = \dfrac{1}{1+1/t}$}

\twoexer{$y = \dfrac{2x^{-1} - x^{-2}}{3x^{-1} - 4x^{-2}}$}%
        {$y = 4x - 5$}

\twoexer{$y = 6$}%
        {$y = 2x(3x-1)(4 - 2x)$}

\twoexer{$y = 3(x^2+1)(2x^2 - 1)(2x+3)$}%
        {$y = (4x + 3)^{-1} + (x-4)^{-2}$}

\twoexer{$z = \dfrac{1}{(2x + 1)(x - 3)}$}%
        {$y = (x^2 + 1)^{-1}(3x-1)^{-2}$}

\twoexer{$y = [(2x + 1)^{-1} + 3]^{-1}$}%
        {$s = [(t^2 + 1)^3 + t]^{-1}$}

\twoexer{$y = (2x+1)^3(x^2 + 1)^2$}%
        {$y = \left( \dfrac{2}{x-1} - x^{-3} \right)^4$\label{prob:cap2p3p42}}

Nos Problemas~\ref{prob:cap2p3p43}--\ref{prob:cap2p3p48}, assuma que
$u$ e $v$ dependem de $x$ e encontre $\dy/\dx$ em termos de $\du/\dx$
e $\dv/\dx$.

\twoexer{$y = u - v$\label{prob:cap2p3p43}}%
        {$y = u^2v$}

\twoexer{$y = 4u + v^2$}%
        {$y = 1/(u + v)$}

\twoexer{$y = 1/(uv)$}%
        {$y = (u + v)(2u - v)$\label{prob:cap2p3p48}}

\exer{Encontre a reta tangente à curva $y = 1 + x + x^2 + x^3$ no
      ponto $(1,4)$.}

\exer{Encontre a reta tangente à curva $y = 9x^{-2}$ no ponto
      $(3,1)$.}

\hardex{Considere a parábola $y = x^2 + bx + c$. Encontre valores de $b$
        e $c$ tais que a reta $y = 2x$ seja tangente à parábola no
        ponto $x = 2$, $y = 4$.}

\hardex{Demonstre que, se $u$, $v$ são funções diferenciáveis que dependem
        de $x$, e que se $y = uvw$, então
        $$
          \frac{\dy}{\dx} = u v \frac{\dif w}{\dx} + u w \frac{\dv}{\dx} +
                            v w \frac{\du}{\dx}.
        $$}

\hardex{Use o princípio da indução para demonstrar que, se $n$ é um inteiro
        positivo, $u_1$, \ldots, $u_n$ são funções diferenciáveis que
        dependem de $x$, e que se $y = u_1 + \cdots + u_n$, então
        $$
          \frac{\dy}{\dx} = \frac{\dif u_1}{\dx} + \cdots +
                            \frac{\dif u_n}{\dx}.
        $$}

\hardex{Use o princípio da indução para demonstrar que a igualdade a seguir
        vale para todo inteiro positivo $n$: 
        $$
          1 + 2 + \cdots + n = \frac{n(n+1)}{2}.
        $$}

\hardex{Toda função racional pode ser escrita como o quociente de dois
        polinômios, $p(x)/q(x)$. Usando este fato, mostre que a derivada
        de toda função racional é uma função racional.}

\end{sectionproblems}

\section{Funções Inversas}
\label{sec:invfunc}

Duas funções reais $f$ e $g$ são chamadas \newdef{funções inversas} se as
equações
$$
  y = f(x), \hspace{1.5ex} x = g(y)
$$
têm os mesmos gráficos no plano $(x,y)$. Ou seja, um ponto $(x,y)$ está na
curva $y = f(x)$ se, e somente se, ele está na curva $x = g(y)$. (Em geral,
o gráfico da equação $x = g(y)$ é diferente do gráfico de $y = g(x)$, mas é
o mesmo que o gráfico de $y = f(X)$; veja Figura~\ref{fig:graphinv}).

\includefig[Funções Inversas]{graphinv}

Por exemplo, a função $y = x^2$, $x \ge 0$, possui função inversa
$x = \sqrt{y}$; a função $y = x^3$ possui como inversa $x = \sqrt[3]{y}$.

Se pensarmos em $f$ como uma caixa preta que transforma uma entrada $x$
em uma saída $f(x)$, a função inversa $g$ é a caixa preta que transforma
$f(x)$, desfazendo o trabalho de $f$, produzindo a entrada original $x$.
(veja Figura~\ref{fig:invfuncboxes}).

\includefig{invfuncboxes}

Muitas funções, como $y = x^2$ para $x \in \setR$, não possuem funções
inversas. Na Figura~\ref{fig:noinvfuncx2}, podemos ver que $x$ não é
função de $y$, pois em $y = 1$ temos que $x$ assume os valores $x = 1$ e
$x = -1$.

\includefig{noinvfuncx2}

Comumente, podemos dizer se uma função $f$ possui inversa pela observação
do seu gráfico. Se existe alguma reta horizontal $y = c$ que corta o gráfico
de $f$ em mais de um ponto, então a função $f$ não tem inversa.
(Veja Figura~\ref{fig:noinvfuncx2}). Se nenhuma reta horizontal
corta o gráfico em mais de um ponto, então $f$ possui uma função inversa
$g$. Usando esta regra, podemos ver na Figura~\ref{fig:noinvfuncexamples}
que as funções $y = |x|$ e $y = \sqrt{1 - x^2}$ não possuem inversas.

\includefig[Funções que não possuem inversas.]{noinvfuncexamples}

A Tabela~\ref{tab:noinvfuncexamples} mostra algumas funções familiares que
possuem inversas. Note que, em cada caso,
$\dfrac{\dx}{\dy} = \dfrac{1}{\dy/\dx}$.

\begin{table}
\caption{Exemplos de funções que possuem inversas.}
\def\SPC{\hspace{1em}}
\def\ISPC{\hspace{-1em}}
\label{tab:noinvfuncexamples}
\begin{tabular}{@{\SPC}l@{\SPC}|@{\SPC}c@{\SPC}|@{\SPC}l@{\SPC}|@{\SPC}c@{\SPC}}
 \hline
 & & & \\[-1em]
 \multirow{2}{*}{função $y = f(x)$} &
   \multirow{2}{*}{$\dfrac{\dy}{\dx}$} &
   \multirow{2}{*}{função inversa $x=g(y)$} &
   \multirow{2}{*}{$\dfrac{\dx}{\dy} = \dfrac{1}{\dy/\dx}$} \\
 & & & \\
 \hline
 & & & \\
 $y = x + c$               & $1$   & $x = y - c$     & $1$ \\[1.5em]
 $y = kx$, \; $k \ne 0$    & $k$   & $x = y/k$       & $1/k$ \\[1.5em]
 $y = x^2$, \; $x \ge 0$   & $2x$  & $x = \sqrt{y}$  & $\dfrac{1}{2\sqrt{y}} =
                                                        \dfrac{1}{2x}$ \\[1.5em]
 $y = x^2$, \; $x \le 0$   & $2x$  & $x = -\sqrt{y}$ & $-\dfrac{1}{2\sqrt{y}} =
                                                        \dfrac{1}{2x}$ \\[1.5em]
 $y = \dfrac{1}{x}$ & $-\dfrac{1}{x^2}$ & $x = \dfrac{1}{y}$ &
                                          $-\dfrac{1}{y^2} = -x^2$\\[1.5em]
 \hline
\end{tabular}
\end{table}

Suponha que o plano $(x,y)$ seja invertido ao redor da reta diagonal
$y = x$. Isto fará com que os eixos $x$ e $y$ troquem de lugar, formando
o plano $(y,x)$. Se $f$ possui uma função inversa $g$, o gráfico da
função $y = f(x)$ se tornará o gráfico da função inversa $x = g(y)$ no
plano $(y,x)$, conforme mostrado na Figura~\ref{fig:invfuncgraphplane}.

\includefig{invfuncgraphplane}

A regra a seguir mostra que as derivadas de funções inversas são sempre
as recíprocas de cada uma.

\subpart{Regra da Função Inversa}

\begin{quote}
Suponha que $f$ e $g$ sejam funções inversas, de tal forma que as
equações
$$
  y = f(x) \hspace{1.5em} \text{e} \hspace{1.5em} x = g(y)
$$
possuam os mesmos gráficos. Se ambas as derivadas $f'(x)$ e
$g'(x)$ existem e não são nulas, então
$$
  f'(x) = \frac{1}{g'(y)},
$$
ou seja,
$$
  \frac{\dy}{\dx} = \frac{1}{\dx/\dy}
$$.
\end{quote}

\begin{proof}
Seja $\Dx$ um infinitésimo não nulo e seja $\Dy$ a variação correspondente
em $y$. Então $\Dy$ também é um infinitésimo, pois $f'(x)$ existe e não é
nula, já que $f(x)$ possui uma função inversa. Pelas regras de partes
padronizadas,
\begin{eqnarray*}
  f'(x) \cdot g'(y) & = & \st{\frac{\Dy}{\Dx}} \cdot \st{\frac{\Dx}{\Dy}} \\
  & = & \st{\frac{\Dy}{\Dx} \cdot \frac{\Dx}{\Dy}} = \std(1) = 1.
\end{eqnarray*}
Logo, $f'(x) = \dfrac{1}{g'(y)}$.
\end{proof}

A fórmula
$$
  \frac{\dy}{\dx} = \frac{1}{\dx/\dy}
$$
na Regra da Função Inversa não é tão trivial quanto parece. Uma afirmação
mais completa é
$$
  \begin{array}{rl}
  \dfrac{\dy}{\dx} & \text{ calculado com $x$ sendo variável independente} \\
                  & = \dfrac{1}{\dx/\dy} \text{ calculado com $y$ sendo variável independente}
  \end{array}
$$

Às vezes é mais fácil calcular $\dx/\dy$ do que $\dy/\dx$; nesses casos, a
Regra da Função Inversa é um método útil.

\begin{example}
Encontre $\dy/\dx$ onde $x = 1 + y^{-3}$.

Antes de resolver o problema, note que
$$
  y = \frac{1}{\sqrt[3]{x-1}}
$$
logo $x$ e $y$ são funções inversas uma da outra. Queremos encontrar
$$
  \frac{\dy}{\dx} = \frac{\dif(1/\sqrt[3]{x - 1})}{\dx}
$$
onde $x$ é a variável independente. Isto parece difícil, mas é fácil
calcular
$$
  \frac{\dx}{\dy} = \frac{\dif(1 + y^{-3})}{\dy}
$$
onde $y$ é a variável independente.

\begin{exsolution} $\dfrac{\dx}{\dy} = -3y^{-4}$, logo, pela Regra da
Função Inversa, $\dfrac{\dy}{\dx} = \dfrac{1}{-3y^{-4}} = -\dfrac{1}{3}y^4$.
Podemos escrever $\dy/\dx$ em termos de $x$ por substituição,
$$
  \frac{\dy}{\dx} = -\frac{1}{3}(x - 1)^{-4/3}.
$$
\end{exsolution}
\end{example}

\begin{example}
Encontre $\dy/\dx$ onde $x = y^5 + y^3 + y$. Calcule $\dy/\dx$ no ponto
$(3,1)$. Apesar de não podermos resolver a equação explicitamente para
$y$ em função de $x$, podemos ver pelo gráfico na
Figura~\ref{fig:grafinvfuncexample} que há uma função inversa $y = f(x)$.

\includefig{grafinvfuncexample}

Pela Regra da Função Inversa,
\begin{eqnarray*}
  \frac{\dx}{\dy} & = & 5y^4 + 3y^2 + 1, \\
  \frac{\dy}{\dx} & = & \frac{1}{5y^4 + 3y^2 + 1}.
\end{eqnarray*}
Desta vez, devemos deixar a resposta em termos de $y$. No ponto $(3,1)$,
substituímos $1$ por $y$ e obtemos $\dy/\dx = 1/9$.
\end{example}

Para $y \ge 0$, a função $x = y^n$ possui a função inversa $y = x^{1/n}$.
No próximo teorema, usamos a Regra da Função Inversa para encontrar uma
nova derivada, esta para $y = x^{1/n}$.

\begin{theorem}\label{teo:diffsqrtn}
Sejam $n$ um inteiro positivo e
$$
  y = x^{1/n},
$$
então,
$$
  \frac{\dy}{\dx} = \frac{1}{n} x^{(1/n)-1}.
$$
\end{theorem}

Lembre que $y = x^{1/n}$ está definido para todo $x$ se $n$ é ímpar e para
$x \ge 0$ se $n$ é par. A derivada $\dfrac{1}{n} x^{(1/n)-1}$ está definida
para $x \ne 0$ se $n$ é ímpar e para $x > 0$ se $n$ é par.

Se considerarmos que $\dy/\dx$ existe, então podemos imediatamente
encontrar $\dy/\dx$ pela Regra da Função Inversa.
\begin{eqnarray*}
  x & = & y^n, \\
  \frac{\dx}{\dy} & = & n y^{n-1}, \\
  \frac{\dy}{\dx} & = & \frac{1}{\dx/\dy} = \frac{1}{n y^{n-1}} =
                        \frac{1}{n}y^{1-n} \\
  & = & \frac{1}{n}(x^{1/n})^{1-n} = \frac{1}{n}x^{(1-n)/n} =
        \frac{1}{n}x^{(1/n)-1}.
\end{eqnarray*}
Apresentaremos a seguir uma prova mais comprida, porém completa,
que demonstra que $\dy/\dx$ existe além de calcular o seu valor.

\begin{proof}[para o Teorema~\ref{teo:diffsqrtn}]
Seja $x \ne 0$ e seja $\Dx$ um infinitésimo não nulo. Primeiramente,
demonstraremos que
$$
  \Dy = (x + \Dx)^{1/n} - x^{1/n}
$$
é um infinitésimo não nulo. Veja que $\Dy \ne 0$ pois $x + \Dx \ne x$.
A parte padronizada de $\Dy$ é
\begin{eqnarray*}
  \std(\Dy) & = & \std[(x + \Dx)^{1/n}] - \std(x^{1/n}) \\
            & = & x^{1/n} - x^{1/n} = 0.
\end{eqnarray*}
Logo, $\Dy$ é um infinitésimo não nulo.
Agora,
\begin{eqnarray*}
  x & = & y^n, \\
  \frac{\dx}{\dy} & = & n y^{n-1}, \\
  \frac{\Dx}{\Dy} & \approx & n y^{n-1}.
\end{eqnarray*}
Portanto,
\begin{eqnarray*}
  \frac{\Dy}{\Dx} & \approx & \frac{1}{n y^{n-1}} =
                              \frac{1}{n} x^{(1/n)-1}, \\
  \frac{\dy}{\dx} & = & \frac{1}{n} x^{(1/n)-1}
\end{eqnarray*}
\end{proof}

\includefig{graphxpow1over3}

A Figura~\ref{fig:graphxpow1over3} mostra os gráficos de $y = x^{1/3}$ e
$y = x^{1/4}$. Em $x = 0$, as curvas são verticais e não possuem inclinação.

\begin{example}
Encontre as derivadas de $y = x^{1/n}$ para $n = 2,3,4$.
\begin{eqnarray*}
  \frac{\dif(x^{1/2}}{\dx} & = & \frac{1}{2} x^{-1/2}, \hspace{1.5em} x > 0,\\
  \frac{\dif(x^{1/3}}{\dx} & = & \frac{1}{3} x^{-2/3}, \hspace{1.5em} x \ne 0,\\
  \frac{\dif(x^{1/4}}{\dx} & = & \frac{1}{3} x^{-3/4}, \hspace{1.5em} x > 0.
\end{eqnarray*}
\end{example}

Usando o Teorema~\ref{teo:diffsqrtn}, podemos mostrar que a Regra da Potência
é válida quando o expoente é qualquer número racional.

\subpart{Regra da Potência para Expoentes Racionais}

\begin{quote}
  Seja $y = x^r$, onde $r$ é um número racional. Então, toda vez que $x > 0$,
  $$
    \frac{\dy}{\dx} = r x^{r-1}.
  $$
\end{quote}

\begin{proof} Seja $r = m/n$, onde $m$ e $n$ são inteiros e $n > 0$. Seja
$$
  u = x^{1/n}, \hspace{1.5em} y = u^m.
$$
Então,
\begin{eqnarray*}
  \frac{\du}{\dx} & = & \frac{1}{n} x^{(1/n)-1}, \hspace{1.5em} \text{e} \\
  \frac{\dy}{\dx} & = & m u m^{m-1} \frac{\du}{\dx} \\
  & = & m(x^{1/n})^{m-1} \left(\frac{1}{n} x^{(1/n)-1} \right) \\
  & = & \frac{m}{n}x^{(m/n)-1} = r x^{r-1}.
\end{eqnarray*}
\end{proof}

\begin{example} Encontre $\dy/\dx$ onde $y = x^{-3/7}$.
\begin{eqnarray*}
  \frac{\dy}{\dx} & = & -\frac{3}{7}x^(-3/7)-1 = -\frac{3}{7}x^{-10/7}
\end{eqnarray*}
\end{example}

\begin{example} Encontre $\dy/\dx$ onde
$$
  y = \frac{1}{2 + x^{3/2}}.
$$

Sejam $u = 2 + x^{3/2}$ \hspace{1.5em} e \hspace{1.5em} $y = u^{-1}$.

Então,
\begin{eqnarray*}
  \frac{\du}{\dx} & = & \frac{3}{2} x^{1/2}, \\
  \frac{\dy}{\dx} & = & -u^{-2} \frac{\du}{\dx} \\
  & = & -u^{-2} \left(\frac{3}{2}x^{1/2}\right) =
    -\frac{3}{2} \frac{x^{1/2}}{2(2 + x^{3/2})^2}.
\end{eqnarray*}
\end{example}

\begin{sectionproblems}

Nos Problemas~\ref{prob:cap2p4p1}--\ref{prob:cap2p4p16}, encontre $\dy/\dx$.

\twoexer{$x = 3y^3 + 2y$\label{prob:cap2p4p1}}{$x = y^2 + 1, \hspace{1em} y > 0$}

\twoexer{$x = 1-2y^2, \hspace{1em} y > 0$}{$x = 2y^5 + y^3 + 4$}

\twoexer{$x = (y^2 + 2)^{-1}, \hspace{1em} y > 0$}{$y = 1/\sqrt{X}$}

\twoexer{$y = x^{4/3}$}{$y = \sqrt{2x}$}

\twoexer{$y = (\sqrt{x} + 1)/(\sqrt{x} - 1)$}{$y = (2x^{1/3} + 1)^3$}

\twoexer{$y = 1 + 2x^{1/3} + 4x^{2/3} + 6x$}{$y = x^{-1/4} + 3x^{-3/4}$}

\twoexer{$y = (x^{5/3} - x)^{-2}$}{$x = y + 2\sqrt{y}$}

\twoexer{$x = 3y^{1/3} + 2y, \hspace{1em} y > 0$}{$x = 1/(1+\sqrt{y})$\label{prob:cap2p4p16}}

Nos Problemas~\ref{prob:cap2p4p17}--\ref{prob:cap2p4p25}, encontre a
função inversa $y$ e sua derivada $\dy/\dx$ como funções de $x$.

\twoexer{$x = ky + c, \hspace{1em} k \ne 0$\label{prob:cap2p4p17}}{$x = y^3 + 1$}

\twoexer{$x = 2y^2 + 1, \hspace{1em} y \ge 0$}{$x = 2y^2 + 1, \hspace{1em} y \le 0$}

\twoexer{$x = y^4 - 3, \hspace{1em} y \ge 0$}{$x = y^2 + 3y - 1, \hspace{1em} y \ge -\frac{3}{2}$}

\twoexer{$x = y^4 + y^2 + 1, \hspace{1em} y \ge 0$}{$y = 1/y^2 + 1/y - 1, \hspace{1em} y > 0$}

\exer{$x = \sqrt{y} + 2y, \hspace{1em} y > 0$\label{prob:cap2p4p25}}

\hardex{Mostre que nenhum polinômio de grau dois $x = ay^2 + by + c$ possui
        função inversa.}

\hardex{Mostre que $x = ay^2 + by + c$, $y \ge -b/2a$, possui função inversa.
        Como o seu gráfico se parece?}

% BUG corrigido: o original, na p. 78, não contém a afirmação "função real."
% No geral, para ter inversa, precisamos afirmar que é subrejetora, além de
% injetora!
\hardex{Demonstre que uma função real $y = f(x)$ possui função inversa se,
        e somente se, toda vez que $x_1 \ne x_2$, então $f(x_1) \ne f(x_2)$.}
\end{sectionproblems}

\section{Funções Transcendentais}
\label{sec:transcfunc}

As funções transcendentais incluem as funções trigonométricas $\sen x$,
$\cos x$, $\tan x$, a função exponencial $\e^x$ e a função logaritmo
natural $\ln x$. Estas funções são desenvolvidas em detalhe nos
Capítulos~\ref{chp:trigfunc} e \ref{chp:explog}. Esta seção contém uma
breve discussão.

\subsection{Funções Trigonométricas}

As letras gregas $\theta$ (teta) e $\phi$ (fi) são comumente usadas para
ângulos. No cálculo, é conveniente medirmos ângulos em \newdef{radianos} no
lugar de graus. Um ângulo $\theta$ em radianos é definido como o comprimento
do arco definido pelo ângulo em um círculo de raio $1$
(Figura~\ref{fig:unitcircangle}). Como um círculo de raio unitário tem
circunferência $2\pi$,
$$
  360 \text{ graus} = 2\pi \text{ radianos}.
$$
Assim, um ângulo reto tem medida
$$
  90 \text{ graus} = \pi/2 \text{ radianos}.
$$

\includefig{unitcircangle}

Para definirmos as funções seno e cosseno, consideramos um ponto $P(x,y)$
no círculo unitário $x^2 + y^2 = 1$. Seja $\theta$ o ângulo medido em radianos
no sentido contrário aos ponteiros do relógio desde o ponto $(1,0)$ até o
ponto $P(x,y)$, conforme mostrado na Figura~\ref{fig:trigcirc}. Ambas as
coordenadas $x$ e $y$ dependem de $\theta$. O valor de $x$ é chamado o
\newdef{cosseno} de $\theta$, e o valor de $y$ é chamado de \newdef{seno}
de $\theta$. Ou, simbolicamente,
$$
  x = \cos \theta, \hspace{1.5em} y = \sen \theta.
$$

\includefig{trigcirc}

A \newdef{tangente} de $\theta$ é definida por
$$
  \tan \theta = \frac{\sen \theta}{\cos \theta}.
$$

Ângulos negativos e ângulos maiores do que $2\pi$ radianos também são
permitidos.

As funções trigonométricas também podem ser definidas usando os lados de um
triângulo retângulo, mas este método só funciona para $\theta$ entre $0$ e
$\pi/2$. Seja $\theta$ um dos ângulos agudos de um triângulo retângulo,
conforme a Figura~\ref{fig:trigtriangle}.

\includefig{trigtriangle}

Então,
\begin{eqnarray*}
  \sen \theta & = & \frac{\text{lado oposto}}{\text{hipotenusa}} =
    \frac{a}{c}, \\
  \cos \theta & = & \frac{\text{lado adjacente}}{\text{hipotenusa}} =
    \frac{b}{c}, \\
  \tan \theta & = & \frac{\text{lado oposto}}{\text{lado adjacente}} =
    \frac{a}{b}.
\end{eqnarray*}

Ambas as definições, com círculos unitários e com triângulos retângulos,
podem ser vistas como equivalentes àquelas usando similaridade de triângulos.

A Tabela~\ref{tab:trigvalues} mostra os valores de $\sen \theta$ e
$\cos \theta$ para alguns valores importantes de $\theta$.

\begin{table}
\caption{}
\label{tab:trigvalues}
\begingroup
\setlength{\tabcolsep}{1em}
\def\SP{\hspace{1em}}
\begin{tabular}{l|c|c|c|c|c|c|c|c}
\hline
$\theta$ em graus & $0\degree$ & $30\degree$ & $45\degree$ & $60\degree$ &
  $90\degree$ & $180\degree$ & $270\degree$ & $360\degree$ \\
$\theta$ em radianos & $0$     & $\pi/6$     & $\pi/4$     & $\pi/3$     &
  $\pi/2$     & $\pi$        & $3\pi/2$     & $2\pi$ \\
$\sen \theta$ & $0$ & $1/2$ & $\sqrt{2}/2$ & $\sqrt{3}/2$ & $1$ & $0$ & $-1$ &
  $0$ \\
$\cos \theta$ & $1$ & $\sqrt{3}/2$ & $\sqrt{2}/2$ & $1/2$ & $0$ & $-1$ & $0$ &
  $1$ \\
\hline
\end{tabular}
\endgroup
\end{table}

Uma identidade útil que decorre da equação do círculo unitário
$x^2 + y^2 = 1$ é
$$
  \sen^2 \theta + \cos^2 \theta = 1,
$$
onde $\sen^2 \theta$ significa $(\sen \theta)^2$.

\section{Regra da Cadeia}
\label{sec:chainrule}

\section{Derivadas de Ordem Superior}
\label{sec:higherderivs}

\section{Funções Implícitas}
\label{sec:implicitfunc}

\begin{chapterproblems}
\end{chapterproblems}


